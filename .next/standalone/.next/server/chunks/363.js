exports.id=363,exports.ids=[363],exports.modules={20189:(a,b,c)=>{"use strict";c.d(b,{FH:()=>v,Sn:()=>g});let d=process.env.NEXT_PUBLIC_API_URL||"https://neweraapi.squareweb.app",e=null;class f{async sleep(a){return new Promise(b=>setTimeout(b,a))}async request(a,b={}){let c=e,f={"Content-Type":"application/json",...c?{Authorization:`Bearer ${c}`}:{},...b.headers},g=null;for(let c=0;c<this.maxRetries;c++)try{let e=new AbortController,h=setTimeout(()=>e.abort(),15e3),i=await fetch(`${d}${a}`,{...b,headers:f,credentials:"include",signal:e.signal});if(clearTimeout(h),401===i.status)throw Error("N\xe3o autorizado");if(!i.ok){let a=await i.text();if(i.status>=500&&c<this.maxRetries-1){g=Error(a||`Erro ${i.status}`),await this.sleep(this.retryDelay*(c+1));continue}throw Error(a||`Erro ${i.status}`)}if(204===i.status)return{};return i.json()}catch(a){if(("AbortError"===a.name||a.message?.includes("fetch"))&&c<this.maxRetries-1){g=a,await this.sleep(this.retryDelay*(c+1));continue}throw a}throw g||Error("Falha ao conectar com a API ap\xf3s m\xfaltiplas tentativas")}async healthCheck(){try{return(await fetch(`${d}/health`,{method:"GET",cache:"no-store"})).ok}catch{return!1}}async get(a){return{data:await this.request(a,{method:"GET"})}}async post(a,b){return{data:await this.request(a,{method:"POST",body:b?JSON.stringify(b):void 0})}}async delete(a){return{data:await this.request(a,{method:"DELETE"})}}async put(a,b){return{data:await this.request(a,{method:"PUT",body:b?JSON.stringify(b):void 0})}}constructor(){this.maxRetries=3,this.retryDelay=1e3}}let g=new f,h={async login(a,b){let c=await g.request("/api/admin/login",{method:"POST",body:JSON.stringify({username:a,password:b})});return c.token&&(e=c.token),c},async logout(){try{await g.request("/api/admin/logout",{method:"POST"})}finally{e=null}},getCurrentUser:async()=>g.request("/api/admin/me"),async isAuthenticated(){try{return await this.getCurrentUser(),!0}catch{return!1}}},i={getAll:async()=>g.request("/api/games"),getById:async a=>g.request(`/api/games/${a}`),create:async a=>g.request("/api/games",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>g.request(`/api/games/${a}`,{method:"PUT",body:JSON.stringify(b)}),delete:async a=>g.request(`/api/games/${a}`,{method:"DELETE"})},j={getByGameId:async a=>g.request(`/api/products/game/${a}`),create:async a=>g.request("/api/products",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>g.request(`/api/products/${a}`,{method:"PUT",body:JSON.stringify(b)}),delete:async a=>g.request(`/api/products/${a}`,{method:"DELETE"}),refreshImage:async a=>g.request(`/api/roblox/refresh-product-image/${a}`,{method:"POST"})},k={getAll:async()=>g.request("/api/partners"),getById:async a=>g.request(`/api/partners/${a}`),create:async a=>g.request("/api/partners",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>g.request(`/api/partners/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:async a=>g.request(`/api/partners/${a}`,{method:"DELETE"})},l={getStats:async(a=7)=>g.request(`/api/payments/stats/period?days=${a}`),async getAll(a=1,b=20,c){let d=new URLSearchParams({page:String(a),limit:String(b)});return c&&d.append("days",String(c)),g.request(`/api/payments/sales?${d}`)},getGeneralStats:async()=>g.request("/api/stats")},m={get:async()=>g.request("/api/config"),update:async a=>g.request("/api/config",{method:"PUT",body:JSON.stringify(a)}),notifyBotUpdate:async()=>g.request("/api/bot/notify-update",{method:"POST",body:JSON.stringify({data:{timestamp:new Date().toISOString()}})}),processPlaceholders:async(a,b)=>(await g.request("/api/config/process-placeholders",{method:"POST",body:JSON.stringify({text:a,gamesList:b})})).processedText,async getDiscordServerData(){let a=await g.request("/api/discord/server");return a.synced&&a.data||null}},n={getAll:async()=>g.request("/api/admin/users"),create:async a=>g.request("/api/admin/register",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>g.request(`/api/admin/users/${a}`,{method:"PATCH",body:JSON.stringify(b)}),delete:async a=>g.request(`/api/admin/users/${a}`,{method:"DELETE"}),changePassword:async(a,b)=>g.request(`/api/admin/users/${a}/change-password`,{method:"POST",body:JSON.stringify(b)}),getAllowedRoles:async()=>g.request("/api/admin/allowed-roles")},o={getAll:async()=>g.request("/api/coupons"),getById:async a=>g.request(`/api/coupons/${a}`),create:async a=>g.request("/api/coupons",{method:"POST",body:JSON.stringify(a)}),update:async(a,b)=>g.request(`/api/coupons/${a}`,{method:"PUT",body:JSON.stringify(b)}),delete:async a=>g.request(`/api/coupons/${a}`,{method:"DELETE"}),validate:async a=>g.request("/api/coupons/validate",{method:"POST",body:JSON.stringify({code:a})})},p={async getAll(a){let b=a?`/api/deliveries?status=${a}`:"/api/deliveries";return g.request(b)},getById:async a=>g.request(`/api/deliveries/${a}`),getStats:async()=>g.request("/api/deliveries/stats"),updateStatus:async(a,b)=>g.request(`/api/deliveries/${a}/status`,{method:"PUT",body:JSON.stringify(b)}),uploadProof:async(a,b)=>g.request(`/api/deliveries/${a}/proof`,{method:"PUT",body:JSON.stringify({proofUrl:b})})},q={getAll:async()=>g.request("/api/sellers"),getById:async a=>g.request(`/api/sellers/${a}`),update:async(a,b)=>g.request(`/api/sellers/${a}`,{method:"PATCH",body:JSON.stringify(b)})},r={createPixPayment:async(a,b)=>g.request("/api/mercadopago/payments/pix",{method:"POST",body:JSON.stringify({amount:a,description:b})}),getPayment:async a=>g.request(`/api/mercadopago/payments/${a}`),getPaymentStatus:async a=>g.request(`/api/mercadopago/payments/${a}/status`)},s={sync:async a=>g.request("/api/roblox/sync",{method:"POST",body:JSON.stringify({placeIdOrUrl:a})}),importGamepass:async(a,b)=>g.request("/api/roblox/import-gamepass",{method:"POST",body:JSON.stringify({gameId:a,gamepassIdOrUrl:b})})},t=process.env.NEXT_PUBLIC_API_URL||"https://neweraapi.squareweb.app",u={async image(a){let b=new FormData;b.append("file",a);let c=e,d=c?{Authorization:`Bearer ${c}`}:{},f=await fetch(`${t}/api/upload/image`,{method:"POST",credentials:"include",headers:d,body:b});if(!f.ok)throw Error((await f.json()).error||"Erro ao fazer upload da imagem");return f.json()}},v={login:h.login.bind(h),logout:h.logout.bind(h),getCurrentUser:h.getCurrentUser.bind(h),isAuthenticated:h.isAuthenticated.bind(h),healthCheck:g.healthCheck.bind(g),getGames:i.getAll.bind(i),getGame:i.getById.bind(i),createGame:i.create.bind(i),updateGame:i.update.bind(i),deleteGame:i.delete.bind(i),getProducts:j.getByGameId.bind(j),createProduct:j.create.bind(j),updateProduct:j.update.bind(j),deleteProduct:j.delete.bind(j),refreshProductImage:j.refreshImage.bind(j),getSalesStats:l.getStats.bind(l),getSales:l.getAll.bind(l),getStats:l.getGeneralStats.bind(l),getConfig:m.get.bind(m),updateConfig:m.update.bind(m),notifyBotUpdate:m.notifyBotUpdate.bind(m),processPlaceholders:m.processPlaceholders.bind(m),getDiscordServerData:m.getDiscordServerData.bind(m),getUsers:n.getAll.bind(n),createUser:n.create.bind(n),updateUser:n.update.bind(n),deleteUser:n.delete.bind(n),changePassword:n.changePassword.bind(n),getAllowedRoles:n.getAllowedRoles.bind(n),uploadImage:u.image.bind(u),getPartners:k.getAll.bind(k),getPartner:k.getById.bind(k),createPartner:k.create.bind(k),updatePartner:k.update.bind(k),deletePartner:k.delete.bind(k),createPixPayment:r.createPixPayment.bind(r),getMercadoPagoPayment:r.getPayment.bind(r),getMercadoPagoPaymentStatus:r.getPaymentStatus.bind(r),getCoupons:o.getAll.bind(o),getCoupon:o.getById.bind(o),createCoupon:o.create.bind(o),updateCoupon:o.update.bind(o),deleteCoupon:o.delete.bind(o),validateCoupon:o.validate.bind(o),getDeliveries:p.getAll.bind(p),getDelivery:p.getById.bind(p),getDeliveryStats:p.getStats.bind(p),updateDeliveryStatus:p.updateStatus.bind(p),uploadDeliveryProof:p.uploadProof.bind(p),getSellers:q.getAll.bind(q),getSeller:q.getById.bind(q),updateSeller:q.update.bind(q),syncRoblox:s.sync.bind(s),importGamepass:s.importGamepass.bind(s),get:g.get.bind(g),post:g.post.bind(g),put:g.put.bind(g),delete:g.delete.bind(g)}},29490:(a,b,c)=>{Promise.resolve().then(c.bind(c,94677))},42795:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>f});var d=c(21124),e=c(42830);function f(){return(0,d.jsx)(e.l$,{position:"top-right",toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"sonner-toast"},theme:"dark",richColors:!0})}},44943:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},45809:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},46481:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(75338),e=c(18039),f=c.n(e);c(61135);var g=c(94677);let h={title:"Nova Era Admin",description:"Painel de administra\xe7\xe3o Nova Era"};function i({children:a}){return(0,d.jsx)("html",{lang:"pt-BR",className:"dark",children:(0,d.jsxs)("body",{className:`${f().className} antialiased bg-zinc-950 text-zinc-100`,children:[a,(0,d.jsx)(g.ToastProvider,{})]})})}},53050:(a,b,c)=>{Promise.resolve().then(c.bind(c,42795))},61135:()=>{},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},94677:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\gabri\\Desktop\\Projetos CS Studios\\NewEraAdminPanel\\src\\components\\ToastProvider.tsx","ToastProvider")}};