(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1524:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4828:(e,s,t)=>{Promise.resolve().then(t.bind(t,41147))},6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},16485:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},24033:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},26983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},35299:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},41147:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var a=t(95155),r=t(12115),l=t(85501),i=t(36118),n=t(1733),c=t(26497),d=t(35299),o=t(16485),x=t(24033),m=t(42529),h=t(6132),u=t(26983),p=t(91761),g=t(26617),b=t(71847);let j=(0,b.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),N=(0,b.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var v=t(56154);let f=(0,b.A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=t(93499),w=t(1524),A=t(52619),E=t.n(A);let z={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},k={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},D=[{value:1,label:"Hoje",shortLabel:"1d"},{value:3,label:"\xdaltimos 3 dias",shortLabel:"3d"},{value:7,label:"\xdaltimos 7 dias",shortLabel:"7d"},{value:15,label:"\xdaltimos 15 dias",shortLabel:"15d"},{value:30,label:"\xdaltimos 30 dias",shortLabel:"30d"},{value:60,label:"\xdaltimos 60 dias",shortLabel:"60d"},{value:90,label:"\xdaltimos 90 dias",shortLabel:"90d"}];function P(){var e;let s=(0,r.useContext)(l.R),[t,b]=(0,r.useState)(null),[A,P]=(0,r.useState)(!0),[L,C]=(0,r.useState)("loading"),[R,I]=(0,r.useState)(D[0]),[M,S]=(0,r.useState)(!1),[O,F]=(0,r.useState)([]);(0,r.useEffect)(()=>{T(),_()},[R]);let T=async()=>{try{var e;P(!0);let s=await i.FH.get("/api/orders/my"),t=Array.isArray(s.data)?s.data:(null==(e=s.data)?void 0:e.orders)||[],a=new Date;a.setDate(a.getDate()-R.value),a.setHours(0,0,0,0);let r=t.filter(e=>new Date(e.paidAt||e.createdAt||"")>=a),l=r.filter(e=>"DELIVERED"===e.status||"COMPLETED"===e.status),n=l.reduce((e,s)=>e+(s.finalPrice||0),0),c=t.filter(e=>"PAYMENT_CONFIRMED"===e.status||"ASSIGNED"===e.status).length,d=l.length,o=r.sort((e,s)=>new Date(s.createdAt||"").getTime()-new Date(e.createdAt||"").getTime()).slice(0,5).map(e=>({orderId:e.orderId||0,status:e.status||"",buyerRobloxUsername:e.buyerRobloxUsername||"",robuxAmount:e.robuxAmount||0,finalPrice:e.finalPrice||0,createdAt:e.createdAt||""}));F(o),b({periodOrders:r.length,periodRevenue:n,pendingDeliveries:c,completedPeriod:d})}catch(e){console.error("Error loading stats:",e),b({periodOrders:0,periodRevenue:0,pendingDeliveries:0,completedPeriod:0})}finally{P(!1)}},_=async()=>{try{await i.FH.getConfig(),C("online")}catch(e){C("offline")}};return A?(0,a.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsx)(d.A,{className:"w-8 h-8 animate-spin text-cyan-500"})}):(0,a.jsxs)(n.P.div,{className:"space-y-6",variants:z,initial:"hidden",animate:"show",children:[(0,a.jsxs)(n.P.div,{variants:k,className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white",children:[(()=>{let e=new Date().getHours();return e<12?"Bom dia":e<18?"Boa tarde":"Boa noite"})(),", ",(0,a.jsx)("span",{className:"gradient-text",children:(null==s||null==(e=s.name)?void 0:e.split(" ")[0])||"Usu\xe1rio"})]}),(0,a.jsx)("p",{className:"text-zinc-500 text-sm mt-0.5",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(n.P.button,{onClick:()=>S(!M),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-zinc-800/80 border border-zinc-700/50 text-sm font-medium text-white hover:border-cyan-500/30 transition-all",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-cyan-400"}),(0,a.jsx)("span",{children:R.label}),(0,a.jsx)(n.P.div,{animate:{rotate:180*!!M},transition:{duration:.2},children:(0,a.jsx)(x.A,{className:"w-4 h-4 text-zinc-400"})})]}),(0,a.jsx)(c.N,{children:M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>S(!1)}),(0,a.jsx)(n.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 z-50 w-48 py-2 rounded-xl bg-zinc-900 border border-zinc-700/50 shadow-xl shadow-black/40",children:D.map(e=>(0,a.jsxs)("button",{onClick:()=>{I(e),S(!1)},className:"w-full flex items-center justify-between px-4 py-2 text-sm transition-colors ".concat(R.value===e.value?"bg-cyan-500/10 text-cyan-400":"text-zinc-300 hover:bg-zinc-800 hover:text-white"),children:[(0,a.jsx)("span",{children:e.label}),R.value===e.value&&(0,a.jsx)(m.A,{className:"w-4 h-4"})]},e.value))})]})})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium ".concat("online"===L?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"offline"===L?"bg-red-500/10 text-red-400 border border-red-500/20":"bg-zinc-500/10 text-zinc-400 border border-zinc-500/20"),children:"online"===L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"})," API Online"]}):"offline"===L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"w-3 h-3"})," API Offline"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"w-3 h-3 animate-spin"})," Verificando"]})})]})]}),(0,a.jsxs)(n.P.div,{variants:k,className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(E(),{href:"/dashboard/orders?status=pending",className:"group",children:(0,a.jsx)("div",{className:"glass-card p-4 hover-card border-l-2 border-l-amber-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-wide",children:"Pendentes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:(null==t?void 0:t.pendingDeliveries)||0})]}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-amber-500/10",children:(0,a.jsx)(u.A,{className:"w-5 h-5 text-amber-400"})})]})})}),(0,a.jsx)("div",{className:"glass-card p-4 border-l-2 border-l-emerald-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-zinc-500 uppercase tracking-wide flex items-center gap-1",children:["Faturamento",(0,a.jsxs)("span",{className:"text-cyan-400/70",children:["(",R.shortLabel,")"]})]}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-white mt-1",children:["R$ ",((null==t?void 0:t.periodRevenue)||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:(0,a.jsx)(p.A,{className:"w-5 h-5 text-emerald-400"})})]})}),(0,a.jsx)("div",{className:"glass-card p-4 border-l-2 border-l-cyan-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-zinc-500 uppercase tracking-wide flex items-center gap-1",children:["Pedidos",(0,a.jsxs)("span",{className:"text-cyan-400/70",children:["(",R.shortLabel,")"]})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:(null==t?void 0:t.periodOrders)||0})]}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:(0,a.jsx)(g.A,{className:"w-5 h-5 text-cyan-400"})})]})}),(0,a.jsx)("div",{className:"glass-card p-4 border-l-2 border-l-purple-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-xs text-zinc-500 uppercase tracking-wide flex items-center gap-1",children:["Entregues",(0,a.jsxs)("span",{className:"text-cyan-400/70",children:["(",R.shortLabel,")"]})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white mt-1",children:(null==t?void 0:t.completedPeriod)||0})]}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/10",children:(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-400"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(n.P.div,{variants:k,className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"glass-card p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)(j,{className:"w-4 h-4 text-cyan-400"}),"Pedidos Recentes",(0,a.jsxs)("span",{className:"text-xs font-normal text-zinc-500",children:["(",R.label.toLowerCase(),")"]})]}),(0,a.jsxs)(E(),{href:"/dashboard/orders",className:"text-xs text-cyan-400 hover:text-cyan-300 flex items-center gap-1",children:["Ver todos ",(0,a.jsx)(N,{className:"w-3 h-3"})]})]}),0===O.length?(0,a.jsxs)("div",{className:"text-center py-8 text-zinc-500",children:[(0,a.jsx)(g.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"Nenhum pedido ainda"})]}):(0,a.jsx)("div",{className:"space-y-2",children:O.map(e=>{var s;return(0,a.jsxs)(E(),{href:"/dashboard/orders?id=".concat(e.orderId),className:"flex items-center justify-between p-3 rounded-lg bg-zinc-800/30 hover:bg-zinc-800/60 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"w-8 h-8 rounded-lg bg-zinc-700/50 flex items-center justify-center text-xs font-mono text-zinc-400",children:["#",e.orderId]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white group-hover:text-cyan-400 transition-colors",children:e.buyerRobloxUsername}),(0,a.jsxs)("p",{className:"text-xs text-zinc-500",children:[e.robuxAmount.toLocaleString()," R$ â€¢ R$ ",e.finalPrice.toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat({PAYMENT_PENDING:"text-yellow-400 bg-yellow-500/10",PAYMENT_CONFIRMED:"text-blue-400 bg-blue-500/10",ASSIGNED:"text-purple-400 bg-purple-500/10",DELIVERING:"text-orange-400 bg-orange-500/10",DELIVERED:"text-emerald-400 bg-emerald-500/10",COMPLETED:"text-emerald-400 bg-emerald-500/10",CANCELLED:"text-red-400 bg-red-500/10",EXPIRED:"text-zinc-400 bg-zinc-500/10"}[e.status]||"text-zinc-400 bg-zinc-500/10"),children:{PAYMENT_PENDING:"Aguardando",PAYMENT_CONFIRMED:"Pago",ASSIGNED:"Atribu\xeddo",DELIVERING:"Entregando",DELIVERED:"Entregue",COMPLETED:"Conclu\xeddo",CANCELLED:"Cancelado",EXPIRED:"Expirado"}[s=e.status]||s}),(0,a.jsx)("span",{className:"text-xs text-zinc-600",children:(e=>{let s=new Date(e),t=Math.floor((new Date().getTime()-s.getTime())/6e4),a=Math.floor(t/60),r=Math.floor(a/24);return t<1?"agora":t<60?"".concat(t,"min"):a<24?"".concat(a,"h"):"".concat(r,"d")})(e.createdAt)})]})]},e.orderId)})})]})}),(0,a.jsx)(n.P.div,{variants:k,children:(0,a.jsxs)("div",{className:"glass-card p-5",children:[(0,a.jsxs)("h2",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 text-amber-400"}),"A\xe7\xf5es R\xe1pidas"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(null==t?void 0:t.pendingDeliveries)?(0,a.jsx)(E(),{href:"/dashboard/orders?status=pending",className:"block",children:(0,a.jsx)("div",{className:"p-3 rounded-lg bg-amber-500/10 border border-amber-500/20 hover:bg-amber-500/20 transition-colors group",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 text-amber-400"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-amber-200",children:[t.pendingDeliveries," entregas pendentes"]})]}),(0,a.jsx)(N,{className:"w-4 h-4 text-amber-400 group-hover:translate-x-1 transition-transform"})]})})}):null,(0,a.jsx)(E(),{href:"/dashboard/config",className:"block",children:(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-zinc-800/50 hover:bg-zinc-800 transition-colors group flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"w-4 h-4 text-zinc-400"}),(0,a.jsx)("span",{className:"text-sm text-zinc-300",children:"Personalizar Bot"})]}),(0,a.jsx)(N,{className:"w-4 h-4 text-zinc-500 group-hover:translate-x-1 transition-transform"})]})}),(0,a.jsx)(E(),{href:"/dashboard/integrations",className:"block",children:(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-zinc-800/50 hover:bg-zinc-800 transition-colors group flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 text-zinc-400"}),(0,a.jsx)("span",{className:"text-sm text-zinc-300",children:"Integra\xe7\xf5es"})]}),(0,a.jsx)(N,{className:"w-4 h-4 text-zinc-500 group-hover:translate-x-1 transition-transform"})]})}),(0,a.jsx)(E(),{href:"/dashboard/coupons",className:"block",children:(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-zinc-800/50 hover:bg-zinc-800 transition-colors group flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 text-zinc-400"}),(0,a.jsx)("span",{className:"text-sm text-zinc-300",children:"Gerenciar Cupons"})]}),(0,a.jsx)(N,{className:"w-4 h-4 text-zinc-500 group-hover:translate-x-1 transition-transform"})]})})]})]})})]})]})}},71847:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(12115);let r=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:x,...m}=e;return(0,a.createElement)("svg",{ref:s,...i,width:r,height:r,stroke:t,strokeWidth:c?24*Number(n)/Number(r):n,className:l("lucide",d),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(m)&&{"aria-hidden":"true"},...m},[...x.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),c=(e,s)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:c,...d}=t;return(0,a.createElement)(n,{ref:i,iconNode:s,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...d})});return t.displayName=r(e),t}},85501:(e,s,t)=>{"use strict";t.d(s,{J:()=>l,R:()=>r});var a=t(12115);let r=(0,a.createContext)(null),l=()=>(0,a.useContext)(r)},91761:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[733,634,118,441,255,358],()=>e(e.s=4828)),_N_E=e.O()}]);