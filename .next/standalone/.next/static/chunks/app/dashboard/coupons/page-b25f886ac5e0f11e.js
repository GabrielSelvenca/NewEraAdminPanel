(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{3998:(e,a,t)=>{"use strict";t.d(a,{$:()=>l});var s=t(95155);t(12115);var i=t(32467),r=t(83101),n=t(64269);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all cursor-pointer disabled:pointer-events-none disabled:opacity-50 disabled:cursor-not-allowed [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:a,variant:t="default",size:r="default",asChild:l=!1,...c}=e,d=l?i.DX:"button";return(0,s.jsx)(d,{"data-slot":"button","data-variant":t,"data-size":r,className:(0,n.cn)(o({variant:t,size:r,className:a})),...c})}},11186:(e,a,t)=>{"use strict";t.d(a,{bq:()=>x,eb:()=>h,gC:()=>g,l6:()=>d,yv:()=>m});var s=t(95155),i=t(12115),r=t(13306),n=t(24033),o=t(12108),l=t(5917),c=t(64269);let d=r.bL;r.YJ;let m=r.WT,x=i.forwardRef((e,a)=>{let{className:t,children:i,...o}=e;return(0,s.jsxs)(r.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 ring-offset-zinc-950 placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[i,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let u=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(r.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...i,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});u.displayName=r.PP.displayName;let p=i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(r.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...i,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=r.wn.displayName;let g=i.forwardRef((e,a)=>{let{className:t,children:i,position:n="popper",...o}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-700 bg-zinc-800 text-zinc-100 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[(0,s.jsx)(u,{}),(0,s.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,s.jsx)(p,{})]})})});g.displayName=r.UC.displayName,i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(r.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...i})}).displayName=r.JU.displayName;let h=i.forwardRef((e,a)=>{let{className:t,children:i,...n}=e;return(0,s.jsxs)(r.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-700 focus:text-zinc-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:i})]})});h.displayName=r.q7.displayName,i.forwardRef((e,a)=>{let{className:t,...i}=e;return(0,s.jsx)(r.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-zinc-700",t),...i})}).displayName=r.wv.displayName},64269:(e,a,t)=>{"use strict";t.d(a,{cn:()=>r});var s=t(2821),i=t(75889);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,i.QP)((0,s.$)(a))}},65142:(e,a,t)=>{"use strict";t.d(a,{p:()=>r});var s=t(95155);t(12115);var i=t(64269);function r(e){let{className:a,type:t,...r}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...r})}},66867:(e,a,t)=>{Promise.resolve().then(t.bind(t,69431))},69431:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>T});var s=t(95155),i=t(12115),r=t(20826),n=t(3998),o=t(65142),l=t(76444),c=t(11186),d=t(1733),m=t(26497),x=t(82063),u=t(65229),p=t(6191),g=t(42529),h=t(6132),v=t(95740),f=t(35299),b=t(19204),j=t(91761),N=t(52952),y=t(71360),w=t(37107),z=t(16485),P=t(79005),C=t(44405);C.Ikc({username:C.YjP().min(1,"Usu\xe1rio \xe9 obrigat\xf3rio").trim(),password:C.YjP().min(6,"Senha deve ter no m\xednimo 6 caracteres").max(100,"Senha muito longa")}),C.Ikc({name:C.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),username:C.YjP().min(1,"Usu\xe1rio \xe9 obrigat\xf3rio").max(100,"Usu\xe1rio muito longo").trim(),password:C.YjP().min(8,"Senha deve ter no m\xednimo 8 caracteres").max(100,"Senha muito longa").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra mai\xfascula").regex(/[a-z]/,"Senha deve conter pelo menos uma letra min\xfascula").regex(/[0-9]/,"Senha deve conter pelo menos um n\xfamero"),role:C.k5n(["admin","editor","viewer"],{message:"Tipo de usu\xe1rio inv\xe1lido"})}),C.Ikc({currentPassword:C.YjP().min(1,"Senha atual \xe9 obrigat\xf3ria").optional(),newPassword:C.YjP().min(8,"Nova senha deve ter no m\xednimo 8 caracteres").max(100,"Senha muito longa").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra mai\xfascula").regex(/[a-z]/,"Senha deve conter pelo menos uma letra min\xfascula").regex(/[0-9]/,"Senha deve conter pelo menos um n\xfamero")}),C.Ikc({name:C.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),robloxGameId:C.YjP().regex(/^\d+$/,"ID do jogo deve conter apenas n\xfameros").optional().or(C.euz("")),robloxPlaceId:C.YjP().regex(/^\d+$/,"ID do place deve conter apenas n\xfameros").optional().or(C.euz("")),imageUrl:C.YjP().url("URL da imagem inv\xe1lida").optional().or(C.euz("")),bannerUrl:C.YjP().url("URL do banner inv\xe1lida").optional().or(C.euz("")),description:C.YjP().max(500,"Descri\xe7\xe3o muito longa").optional().or(C.euz("")),creator:C.YjP().max(100,"Nome do criador muito longo").optional().or(C.euz("")),active:C.zMY().default(!0)}),C.Ikc({name:C.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),description:C.YjP().max(500,"Descri\xe7\xe3o muito longa").optional().or(C.euz("")),type:C.aig().int().min(0).max(10),delivery:C.aig().int().min(0).max(10),price:C.aig().min(0,"Pre\xe7o n\xe3o pode ser negativo").max(1e6,"Pre\xe7o muito alto").optional(),robuxAmount:C.aig().int("Quantidade de Robux deve ser um n\xfamero inteiro").min(0,"Quantidade n\xe3o pode ser negativa").max(1e9,"Quantidade muito alta"),robloxGamepassId:C.YjP().regex(/^\d+$/,"ID do gamepass deve conter apenas n\xfameros").optional().or(C.euz("")),imageUrl:C.YjP().url("URL da imagem inv\xe1lida").optional().or(C.euz("")),active:C.zMY().default(!0),displayOrder:C.aig().int().min(0).default(0),gameId:C.aig().int().positive("ID do jogo inv\xe1lido")}),C.Ikc({name:C.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),pixKey:C.YjP().min(1,"Chave PIX \xe9 obrigat\xf3ria").regex(/^([0-9]{11}|[0-9]{14}|[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}|[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})$/,"Chave PIX inv\xe1lida (CPF, CNPJ, email, telefone ou chave aleat\xf3ria)").trim(),percentage:C.aig().min(0,"Porcentagem n\xe3o pode ser negativa").max(100,"Porcentagem n\xe3o pode ser maior que 100").int("Porcentagem deve ser um n\xfamero inteiro"),active:C.zMY().default(!0)});let A=C.Ikc({code:C.YjP().min(3,"C\xf3digo deve ter no m\xednimo 3 caracteres").max(20,"C\xf3digo muito longo").regex(/^[A-Z0-9_-]+$/,"C\xf3digo deve conter apenas letras mai\xfasculas, n\xfameros, - e _").toUpperCase().trim(),discountType:C.k5n(["percentage","fixed"],{message:"Tipo de desconto inv\xe1lido"}),discountValue:C.aig().positive("Valor do desconto deve ser positivo"),expiresAt:C.YjP().refine(e=>!e||!isNaN(Date.parse(e)),"Data de expira\xe7\xe3o inv\xe1lida").optional().or(C.euz("")),maxUses:C.aig().int("M\xe1ximo de usos deve ser um n\xfamero inteiro").positive("M\xe1ximo de usos deve ser positivo").optional().or(C.euz(null)),active:C.zMY().default(!0)});C.Ikc({storeName:C.YjP().min(2,"Nome da loja deve ter no m\xednimo 2 caracteres").max(50,"Nome muito longo").trim().optional().or(C.euz("")),storeColor:C.YjP().regex(/^#[0-9A-Fa-f]{6}$/,"Cor inv\xe1lida (formato: #RRGGBB)").optional().or(C.euz("")),pricePerKRobux:C.aig().min(.01,"Pre\xe7o por K (Robux) deve ser maior que 0").max(1e3,"Pre\xe7o muito alto"),pricePerKGamepass:C.aig().min(.01,"Pre\xe7o por K (Gamepass) deve ser maior que 0").max(1e3,"Pre\xe7o muito alto"),paymentTimeoutMinutes:C.aig().int("Timeout deve ser um n\xfamero inteiro").min(5,"Timeout m\xednimo de 5 minutos").max(60,"Timeout m\xe1ximo de 60 minutos"),cartInactivityMinutes:C.aig().int("Inatividade deve ser um n\xfamero inteiro").min(1,"Inatividade m\xednima de 1 minuto").max(30,"Inatividade m\xe1xima de 30 minutos"),embedGamepassMessage:C.YjP().max(2e3,"Mensagem muito longa").optional().or(C.euz("")),embedRobuxMessage:C.YjP().max(2e3,"Mensagem muito longa").optional().or(C.euz("")),bannerGamepass:C.YjP().url("URL do banner inv\xe1lida").optional().or(C.euz("")),bannerRobux:C.YjP().url("URL do banner inv\xe1lida").optional().or(C.euz("")),gamepassEnabled:C.zMY().default(!0),robuxEnabled:C.zMY().default(!0)});var k=t(90368),R=t(27937),Y=t(26983),S=t(64269);let D=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],U=["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"];function I(e){let{value:a,onChange:t,placeholder:r="Selecionar data e hora",className:o}=e,[l,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(new Date().getMonth()),[x,p]=(0,i.useState)(new Date().getFullYear()),[g,h]=(0,i.useState)(a?new Date(a):null),[v,f]=(0,i.useState)((null==g?void 0:g.getHours())||12),[b,j]=(0,i.useState)((null==g?void 0:g.getMinutes())||0),N=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(a){let e=new Date(a);h(e),m(e.getMonth()),p(e.getFullYear()),f(e.getHours()),j(e.getMinutes())}},[a]),(0,i.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let y=e=>{h(new Date(x,d,e,v,b))},w=()=>{h(null),t(""),c(!1)};return(0,s.jsxs)("div",{ref:N,className:(0,S.cn)("relative",o),children:[(0,s.jsxs)("button",{type:"button",onClick:()=>c(!l),className:(0,S.cn)("w-full flex items-center justify-between px-3 py-2 rounded-md border transition-colors","bg-zinc-800 border-zinc-700 text-left","hover:border-zinc-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",!a&&"text-zinc-500"),children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(z.A,{className:"w-4 h-4 text-zinc-400"}),a?a?new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"":r]}),a&&(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),w()},className:"p-1 hover:bg-zinc-700 rounded",children:(0,s.jsx)(u.A,{className:"w-4 h-4 text-zinc-400"})})]}),l&&(0,s.jsxs)("div",{className:"absolute z-50 mt-2 p-4 bg-zinc-900 border border-zinc-700 rounded-xl shadow-xl min-w-[300px]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{0===d?(m(11),p(x-1)):m(d-1)},className:"p-1 hover:bg-zinc-800 rounded-lg transition-colors",children:(0,s.jsx)(k.A,{className:"w-5 h-5 text-zinc-400"})}),(0,s.jsxs)("span",{className:"font-semibold text-zinc-100",children:[D[d]," ",x]}),(0,s.jsx)("button",{type:"button",onClick:()=>{11===d?(m(0),p(x+1)):m(d+1)},className:"p-1 hover:bg-zinc-800 rounded-lg transition-colors",children:(0,s.jsx)(R.A,{className:"w-5 h-5 text-zinc-400"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:U.map(e=>(0,s.jsx)("div",{className:"w-8 h-8 flex items-center justify-center text-xs font-medium text-zinc-500",children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:(()=>{let e=new Date(x,d+1,0).getDate(),a=new Date(x,d,1).getDay(),t=[];for(let e=0;e<a;e++)t.push((0,s.jsx)("div",{className:"w-8 h-8"},"empty-".concat(e)));for(let a=1;a<=e;a++){let e=g&&g.getDate()===a&&g.getMonth()===d&&g.getFullYear()===x,i=new Date().getDate()===a&&new Date().getMonth()===d&&new Date().getFullYear()===x;t.push((0,s.jsx)("button",{type:"button",onClick:()=>y(a),className:(0,S.cn)("w-8 h-8 rounded-lg text-sm font-medium transition-all",e?"bg-emerald-500 text-white":i?"bg-zinc-700 text-emerald-400":"text-zinc-300 hover:bg-zinc-700"),children:a},a))}return t})()}),(0,s.jsx)("div",{className:"border-t border-zinc-700 pt-4 mb-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(Y.A,{className:"w-4 h-4 text-zinc-400"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("select",{value:v,onChange:e=>f(parseInt(e.target.value)),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-2 py-1.5 text-sm text-zinc-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:Array.from({length:24},(e,a)=>(0,s.jsx)("option",{value:a,children:a.toString().padStart(2,"0")},a))}),(0,s.jsx)("span",{className:"text-zinc-400 font-bold",children:":"}),(0,s.jsx)("select",{value:b,onChange:e=>j(parseInt(e.target.value)),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-2 py-1.5 text-sm text-zinc-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:Array.from({length:60},(e,a)=>(0,s.jsx)("option",{value:a,children:a.toString().padStart(2,"0")},a))})]})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{type:"button",onClick:w,variant:"outline",size:"sm",className:"flex-1",children:"Limpar"}),(0,s.jsx)(n.$,{type:"button",onClick:()=>{g&&t(new Date(g.getFullYear(),g.getMonth(),g.getDate(),v,b).toISOString().slice(0,16)),c(!1)},size:"sm",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:!g,children:"Confirmar"})]})]})]})}let M={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},E={hidden:{opacity:0,y:10},show:{opacity:1,y:0}};function T(){let[e,a]=(0,i.useState)([]),[t,C]=(0,i.useState)(!0),[k,R]=(0,i.useState)(!1),[Y,S]=(0,i.useState)(!1),[D,U]=(0,i.useState)({code:"",discountType:"percentage",discountValue:0,expiresAt:"",maxUses:""});(0,i.useEffect)(()=>{T()},[]);let T=async()=>{try{C(!0);let e=await r.FH.getCoupons();a(e)}catch(e){P.oR.error("Erro ao carregar cupons")}finally{C(!1)}},V=async()=>{let e={code:D.code,discountType:D.discountType,discountValue:D.discountValue,expiresAt:D.expiresAt||"",maxUses:D.maxUses?parseInt(D.maxUses):null,active:!0},a=A.safeParse(e);if(!a.success){var t;P.oR.error("Valida\xe7\xe3o",(null==(t=a.error.issues[0])?void 0:t.message)||"Dados inv\xe1lidos");return}try{R(!0),await r.FH.createCoupon({...a.data,expiresAt:a.data.expiresAt||null}),P.oR.success("Cupom criado!"),U({code:"",discountType:"percentage",discountValue:0,expiresAt:"",maxUses:""}),S(!1),await T()}catch(e){P.oR.error("Erro ao criar cupom",e instanceof Error?e.message:void 0)}finally{R(!1)}},F=async e=>{if(confirm("Deletar este cupom?"))try{await r.FH.deleteCoupon(e),P.oR.success("Cupom deletado!"),await T()}catch(e){P.oR.error("Erro ao deletar cupom",e instanceof Error?e.message:void 0)}},$=async(e,a)=>{try{await r.FH.updateCoupon(e,{active:!a}),P.oR.success("Cupom ".concat(a?"desativado":"ativado","!")),await T()}catch(e){P.oR.error("Erro ao atualizar cupom",e instanceof Error?e.message:void 0)}},L={active:e.filter(e=>e.active&&e.isValid).length,inactive:e.filter(e=>!e.active||!e.isValid).length,total:e.length};return(0,s.jsxs)(d.P.div,{className:"space-y-5",variants:M,initial:"hidden",animate:"show",children:[(0,s.jsxs)(d.P.div,{variants:E,className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-6 h-6 text-pink-400"}),"Cupons"]}),(0,s.jsx)("p",{className:"text-zinc-500 text-sm mt-0.5",children:"Gerenciar cupons de desconto"})]}),(0,s.jsxs)(n.$,{onClick:()=>S(!Y),className:Y?"bg-zinc-700":"bg-gradient-to-r from-pink-500 to-purple-500 hover:opacity-90",children:[Y?(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}):(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),Y?"Cancelar":"Novo Cupom"]})]}),(0,s.jsxs)(d.P.div,{variants:E,className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"glass-card p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-4 h-4 text-emerald-400"}),(0,s.jsx)("span",{className:"text-xs text-zinc-500 uppercase",children:"Ativos"})]}),(0,s.jsx)("p",{className:"text-xl font-bold text-white mt-1",children:L.active})]}),(0,s.jsxs)("div",{className:"glass-card p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 text-zinc-400"}),(0,s.jsx)("span",{className:"text-xs text-zinc-500 uppercase",children:"Inativos"})]}),(0,s.jsx)("p",{className:"text-xl font-bold text-white mt-1",children:L.inactive})]}),(0,s.jsxs)("div",{className:"glass-card p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-4 h-4 text-pink-400"}),(0,s.jsx)("span",{className:"text-xs text-zinc-500 uppercase",children:"Total"})]}),(0,s.jsx)("p",{className:"text-xl font-bold text-white mt-1",children:L.total})]})]}),(0,s.jsx)(m.N,{children:Y&&(0,s.jsx)(d.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"glass-card p-5 border-pink-500/20",children:[(0,s.jsxs)("h3",{className:"font-semibold text-white flex items-center gap-2 mb-4",children:[(0,s.jsx)(v.A,{className:"w-4 h-4 text-pink-400"}),"Criar Novo Cupom"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{className:"text-zinc-400 text-xs uppercase",children:"C\xf3digo"}),(0,s.jsx)(o.p,{value:D.code,onChange:e=>U({...D,code:e.target.value.toUpperCase()}),className:"bg-zinc-800/50 border-zinc-700 font-mono",placeholder:"DESCONTO10",maxLength:50})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{className:"text-zinc-400 text-xs uppercase",children:"Tipo"}),(0,s.jsxs)(c.l6,{value:D.discountType,onValueChange:e=>U({...D,discountType:e}),children:[(0,s.jsx)(c.bq,{className:"bg-zinc-800/50 border-zinc-700",children:(0,s.jsx)(c.yv,{})}),(0,s.jsxs)(c.gC,{className:"bg-zinc-800 border-zinc-700",children:[(0,s.jsx)(c.eb,{value:"percentage",children:"Percentual (%)"}),(0,s.jsx)(c.eb,{value:"fixed",children:"Valor Fixo (R$)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{className:"text-zinc-400 text-xs uppercase",children:"Valor"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.p,{type:"number",value:D.discountValue||"",onChange:e=>U({...D,discountValue:parseFloat(e.target.value)||0}),className:"bg-zinc-800/50 border-zinc-700 pr-10",placeholder:"10"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:"percentage"===D.discountType?"%":"R$"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{className:"text-zinc-400 text-xs uppercase",children:"Expira\xe7\xe3o (opcional)"}),(0,s.jsx)(I,{value:D.expiresAt,onChange:e=>U({...D,expiresAt:e}),placeholder:"Selecionar data"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{className:"text-zinc-400 text-xs uppercase",children:"Limite de Usos"}),(0,s.jsx)(o.p,{type:"number",value:D.maxUses,onChange:e=>U({...D,maxUses:e.target.value}),className:"bg-zinc-800/50 border-zinc-700",placeholder:"Ilimitado"})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)(n.$,{onClick:V,disabled:k||!D.code.trim(),className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:opacity-90",children:[k?(0,s.jsx)(f.A,{className:"w-4 h-4 animate-spin mr-2"}):(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Criar Cupom"]})})]})]})})}),t?(0,s.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,s.jsx)(f.A,{className:"w-8 h-8 animate-spin text-pink-400"})}):0===e.length?(0,s.jsxs)(d.P.div,{variants:E,className:"glass-card py-16 text-center",children:[(0,s.jsx)(x.A,{className:"w-12 h-12 mx-auto mb-3 text-zinc-600"}),(0,s.jsx)("p",{className:"text-zinc-500",children:"Nenhum cupom cadastrado"}),(0,s.jsxs)(n.$,{onClick:()=>S(!0),variant:"ghost",className:"mt-3 text-pink-400 hover:text-pink-300",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Criar primeiro cupom"]})]}):(0,s.jsx)(d.P.div,{variants:E,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>{let a=(e=>{if(!e)return null;let a=new Date(e),t=new Date,s=a.getTime()-t.getTime(),i=Math.ceil(s/864e5);return s<0?{text:"Expirado",color:"text-red-400"}:i<=1?{text:"Expira hoje",color:"text-amber-400"}:i<=7?{text:"".concat(i," dias"),color:"text-amber-400"}:{text:a.toLocaleDateString("pt-BR"),color:"text-zinc-400"}})(e.expiresAt),t=e.active&&e.isValid;return(0,s.jsxs)(d.P.div,{variants:E,className:"glass-card overflow-hidden transition-all ".concat(t?"":"opacity-60"),children:[(0,s.jsx)("div",{className:"h-1 ".concat(t?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-zinc-700")}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("code",{className:"text-lg font-bold text-white font-mono",children:e.code}),(0,s.jsx)("div",{className:"flex items-center gap-2 mt-1",children:"percentage"===e.discountType?(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-pink-400",children:[(0,s.jsx)(b.A,{className:"w-3 h-3"}),e.discountValue,"%"]}):(0,s.jsxs)("span",{className:"flex items-center gap-1 text-sm text-emerald-400",children:[(0,s.jsx)(j.A,{className:"w-3 h-3"}),"R$ ",e.discountValue.toFixed(2)]})})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(n.$,{size:"icon",variant:"ghost",onClick:()=>$(e.id,e.active),className:"h-8 w-8 ".concat(e.active?"text-emerald-400 hover:bg-emerald-500/10":"text-zinc-500 hover:bg-zinc-700"),title:e.active?"Desativar":"Ativar",children:(0,s.jsx)(N.A,{className:"w-4 h-4"})}),(0,s.jsx)(n.$,{size:"icon",variant:"ghost",onClick:()=>F(e.id),className:"h-8 w-8 text-red-400 hover:bg-red-500/10",title:"Deletar",children:(0,s.jsx)(y.A,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-zinc-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(w.A,{className:"w-3 h-3"}),"Usos"]}),(0,s.jsxs)("span",{className:"text-zinc-300",children:[e.currentUses,e.maxUses?" / ".concat(e.maxUses):" / âˆž"]})]}),a&&(0,s.jsxs)("div",{className:"flex items-center justify-between text-zinc-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(z.A,{className:"w-3 h-3"}),"Expira"]}),(0,s.jsx)("span",{className:a.color,children:a.text})]})]}),(0,s.jsx)("div",{className:"flex gap-1 mt-3",children:t?(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:"Ativo"}):(0,s.jsxs)(s.Fragment,{children:[e.isExpired&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded bg-red-500/10 text-red-400 border border-red-500/20",children:"Expirado"}),e.isMaxUsesReached&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded bg-amber-500/10 text-amber-400 border border-amber-500/20",children:"Limite"}),!e.active&&!e.isExpired&&!e.isMaxUsesReached&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs rounded bg-zinc-500/10 text-zinc-400 border border-zinc-500/20",children:"Desativado"})]})})]})]},e.id)})})]})}},76444:(e,a,t)=>{"use strict";t.d(a,{J:()=>n});var s=t(95155);t(12115);var i=t(46554),r=t(64269);function n(e){let{className:a,...t}=e;return(0,s.jsx)(i.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...t})}},79005:(e,a,t)=>{"use strict";t.d(a,{oR:()=>i});var s=t(18720);let i={success:(e,a)=>s.oR.success(e,{description:a}),error:(e,a)=>s.oR.error(e,{description:a}),info:(e,a)=>s.oR.info(e,{description:a}),warning:(e,a)=>s.oR.warning(e,{description:a}),loading:e=>s.oR.loading(e),promise:(e,a)=>s.oR.promise(e,a)}}},e=>{e.O(0,[779,733,485,720,12,666,826,441,255,358],()=>e(e.s=66867)),_N_E=e.O()}]);