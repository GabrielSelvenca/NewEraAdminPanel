(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{42196:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(71847).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},46046:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(71847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},82236:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>E});var r=a(95155),l=a(12115),c=a(90960),n=a(3998),i=a(86948),o=a(65142),d=a(76444),t=a(64269);let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,r.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});m.displayName="Textarea";var x=a(11186),h=a(35299),g=a(46046),p=a(71847);let u=(0,p.A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var b=a(37107);let j=(0,p.A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var N=a(42196);let v=(0,p.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),f=(0,p.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=a(91761),z=a(6191),C=a(71360);function w(e){let{title:s="T\xedtulo do Embed",description:a="Descri\xe7\xe3o do embed aparece aqui",color:l="#257e24",footerText:c="Footer do embed",thumbnailUrl:n,timestamp:i=!0,storeName:o="Nova Era Store",gamesList:d=[],pricePerK:t=27.99,status:m="\uD83D\uDFE2 Dispon\xedvel"}=e;return(0,r.jsx)("div",{className:"bg-[#313338] rounded-lg p-4 max-w-2xl",children:(0,r.jsx)("div",{className:"bg-[#2b2d31] rounded border-l-4 p-3",style:{borderColor:l},children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[s&&(0,r.jsx)("div",{className:"text-white font-semibold text-base mb-2 break-words",children:s}),a&&(0,r.jsx)("div",{className:"text-[#dbdee1] text-sm leading-relaxed break-words whitespace-pre-wrap mb-3",children:(e=>{let s;if(!e)return null;e=(e=>{let s=e;s=s.replace(/\{store-name\}/g,o);let a=d.length>0?d.map(e=>"• ".concat(e)).join("\n"):"• Nenhum jogo cadastrado";return(s=(s=s.replace(/\{games-list\}/g,a)).replace(/\{robux-price\s+(\d+)\}/g,(e,s)=>{let a=parseInt(s);return"R$ ".concat((a/1e3*t).toFixed(2))})).replace(/\{status\}/g,m)})(e);let a=[],l=0,c=/(\*\*(.+?)\*\*)|(\*(.+?)\*)|(__(.+?)__)/g;for(;null!==(s=c.exec(e));)s.index>l&&a.push(e.substring(l,s.index)),s[1]?a.push((0,r.jsx)("strong",{children:s[2]},s.index)):s[3]?a.push((0,r.jsx)("em",{children:s[4]},s.index)):s[5]&&a.push((0,r.jsx)("u",{children:s[6]},s.index)),l=s.index+s[0].length;return l<e.length&&a.push(e.substring(l)),a.length>0?a:e})(a)}),c&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#949ba4] border-t border-[#3f4147] pt-2",children:[(0,r.jsx)("span",{children:c}),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),n&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{src:n,alt:"Banner",className:"w-24 h-24 rounded object-cover",onError:e=>{e.currentTarget.style.display="none"}})})]})})})}function E(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(null),[p,E]=(0,l.useState)(!0),[R,k]=(0,l.useState)(!1),[S,A]=(0,l.useState)(""),[D,B]=(0,l.useState)([]),[G,M]=(0,l.useState)([]);(0,l.useEffect)(()=>{J()},[]);let J=async()=>{try{E(!0);let[e,a,r]=await Promise.all([c.F.getConfig(),c.F.getDiscordServerData().catch(()=>null),c.F.getGames().catch(()=>[])]);if(s(e),t(a),M(r.filter(e=>e.active)),e.tierRoles)try{B(JSON.parse(e.tierRoles))}catch(e){B([])}}catch(e){console.error(e)}finally{E(!1)}},V=async()=>{if(e){k(!0),A("");try{let s={...e,tierRoles:JSON.stringify(D)};await c.F.updateConfig(s),A("✅ Configura\xe7\xf5es salvas! Embeds de setup ser\xe3o atualizados automaticamente.")}catch(e){A("❌ ".concat(e instanceof Error?e.message:"Erro ao salvar"))}finally{k(!1)}}},Z=(a,r)=>{e&&s({...e,[a]:r})},_=(e,s,a)=>{let r=[...D];r[e]={...r[e],[s]:a},B(r)};return p?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)(h.A,{className:"w-8 h-8 animate-spin text-emerald-500"})}):e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Configura\xe7\xf5es do Bot"}),(0,r.jsx)("p",{className:"text-zinc-400 mt-1",children:"Configure categorias, canais, visual e cargos"})]}),(0,r.jsxs)(n.$,{onClick:V,disabled:R,className:"bg-emerald-600 hover:bg-emerald-700",children:[R?(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),R?"Salvando...":"Salvar Configura\xe7\xf5es"]})]}),S&&(0,r.jsx)("div",{className:"p-4 rounded-lg ".concat(S.includes("✅")?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"),children:S}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(u,{className:"w-5 h-5 text-blue-500"}),"Categorias do Discord"]}),(0,r.jsx)(i.BT,{children:"Onde os carrinhos ser\xe3o criados"})]}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{field:"categoryCartsGamepass",label:"Carrinhos Gamepass"},{field:"categoryCartsRobux",label:"Carrinhos Robux"},{field:"categoryApproved",label:"Aprovados"}].map(s=>{let{field:l,label:c}=s;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:c}),a?(0,r.jsxs)(x.l6,{value:e[l]||"",onValueChange:e=>Z(l,e),children:[(0,r.jsx)(x.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(x.yv,{placeholder:"Selecione categoria"})}),(0,r.jsx)(x.gC,{className:"bg-zinc-800 border-zinc-700",children:a.categories.map(e=>(0,r.jsx)(x.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(o.p,{value:e[l]||"",onChange:e=>Z(l,e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID da categoria"})]},l)})})})]}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(b.A,{className:"w-5 h-5 text-purple-500"}),"Canais do Discord"]}),(0,r.jsx)(i.BT,{children:"Logs e embeds de setup"})]}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"channelPurchasesLog",label:"Compras Conclu\xeddas (Log Pagamentos)"},{field:"channelDeliveriesLog",label:"Entregas Conclu\xeddas"},{field:"channelSetupGamepass",label:"Setup Embed Gamepass"},{field:"channelSetupRobux",label:"Setup Embed Robux"}].map(s=>{let{field:l,label:c}=s;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{className:"text-sm",children:c}),a?(0,r.jsxs)(x.l6,{value:e[l]||"",onValueChange:e=>Z(l,e),children:[(0,r.jsx)(x.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(x.yv,{placeholder:"Selecione canal"})}),(0,r.jsx)(x.gC,{className:"bg-zinc-800 border-zinc-700",children:a.textChannels.map(e=>(0,r.jsxs)(x.eb,{value:e.id,children:["# ",e.name]},e.id))})]}):(0,r.jsx)(o.p,{value:e[l]||"",onChange:e=>Z(l,e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID do canal"})]},l)})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(j,{className:"w-5 h-5 text-pink-500"}),"Visual dos Embeds"]})}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Cor Global dos Embeds"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(o.p,{type:"color",value:e.storeColor||"#257e24",onChange:e=>Z("storeColor",e.target.value),className:"w-16 h-10 p-1 bg-zinc-800 border-zinc-700 cursor-pointer"}),(0,r.jsx)(o.p,{value:e.storeColor||"#257e24",onChange:e=>Z("storeColor",e.target.value),className:"bg-zinc-800 border-zinc-700 flex-1"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(d.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"w-4 h-4"}),"Banner Embed Gamepass"]}),(0,r.jsx)(o.p,{value:e.bannerGamepass||"",onChange:e=>Z("bannerGamepass",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"https://exemplo.com/banner-gamepass.png"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(d.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"w-4 h-4"}),"Banner Embed Robux"]}),(0,r.jsx)(o.p,{value:e.bannerRobux||"",onChange:e=>Z("bannerRobux",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"https://exemplo.com/banner-robux.png"})]})]})]}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(v,{className:"w-5 h-5 text-cyan-500"}),"Mensagens dos Embeds"]})}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Mensagem Embed Gamepass"}),(0,r.jsx)(m,{value:e.embedGamepassMessage||"",onChange:e=>Z("embedGamepassMessage",e.target.value),className:"bg-zinc-800 border-zinc-700 min-h-[80px]",placeholder:"Bem-vindo \xe0 loja de Gamepasses! Selecione um jogo abaixo..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Mensagem Embed Robux"}),(0,r.jsx)(m,{value:e.embedRobuxMessage||"",onChange:e=>Z("embedRobuxMessage",e.target.value),className:"bg-zinc-800 border-zinc-700 min-h-[80px]",placeholder:"Compre Robux com seguran\xe7a! Clique no bot\xe3o abaixo..."})]})]})]})]}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(f,{className:"w-5 h-5 text-purple-500"}),"Visual dos Embeds"]}),(0,r.jsx)(i.BT,{children:"Preview de como os embeds aparecer\xe3o no Discord"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(d.J,{className:"text-sm font-semibold",children:"Embed Gamepass"}),(0,r.jsx)(w,{title:e.storeName||"Nova Era Store",description:e.embedGamepassMessage||"Bem-vindo \xe0 **{store-name}**! Selecione um jogo abaixo:\n\n{games-list}\n\n{status}",color:e.storeColor||"#257e24",thumbnailUrl:e.bannerGamepass,footerText:"".concat(e.storeName||"Nova Era Store"," • Compre com seguran\xe7a"),timestamp:!0,storeName:e.storeName||"Nova Era Store",gamesList:G.map(e=>e.name),pricePerK:e.pricePerK||27.99,status:"\uD83D\uDFE2 Dispon\xedvel"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(d.J,{className:"text-sm font-semibold",children:"Embed Robux"}),(0,r.jsx)(w,{title:e.storeName||"Nova Era Store",description:e.embedRobuxMessage||"Compre Robux com *seguran\xe7a*!\n\nExemplo: **1000 Robux** custa __{robux-price 1000}__\n\n{status}",color:e.storeColor||"#257e24",thumbnailUrl:e.bannerRobux,footerText:"".concat(e.storeName||"Nova Era Store"," • Compre com seguran\xe7a"),timestamp:!0,storeName:e.storeName||"Nova Era Store",gamesList:G.map(e=>e.name),pricePerK:e.pricePerK||27.99,status:"\uD83D\uDFE2 Dispon\xedvel"})]})]})})]}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsx)(i.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(y.A,{className:"w-5 h-5 text-yellow-500"}),"Cargos por Valor de Compra"]}),(0,r.jsx)(i.BT,{children:"Cargos autom\xe1ticos baseados no total gasto"})]}),(0,r.jsxs)(n.$,{onClick:()=>{B([...D,{minValue:0,roleId:""}])},size:"sm",className:"bg-emerald-600 hover:bg-emerald-700",children:[(0,r.jsx)(z.A,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]})}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:0===D.length?(0,r.jsx)("p",{className:"text-zinc-500 text-center py-8",children:"Nenhum cargo configurado"}):D.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-end gap-4 p-4 bg-zinc-800/50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)(d.J,{children:"Valor M\xednimo (R$)"}),(0,r.jsx)(o.p,{type:"number",step:"0.01",value:e.minValue,onChange:e=>_(s,"minValue",parseFloat(e.target.value)||0),className:"bg-zinc-800 border-zinc-700"})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)(d.J,{children:"Cargo"}),a?(0,r.jsxs)(x.l6,{value:e.roleId,onValueChange:e=>_(s,"roleId",e),children:[(0,r.jsx)(x.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(x.yv,{placeholder:"Selecione cargo"})}),(0,r.jsx)(x.gC,{className:"bg-zinc-800 border-zinc-700",children:a.roles.map(e=>(0,r.jsx)(x.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(o.p,{value:e.roleId,onChange:e=>_(s,"roleId",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID do cargo"})]}),(0,r.jsx)(n.$,{onClick:()=>{B(D.filter((e,a)=>a!==s))},size:"sm",variant:"destructive",className:"mb-0.5",children:(0,r.jsx)(C.A,{className:"w-4 h-4"})})]},s))})]}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Configura\xe7\xf5es da Loja"})}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Nome da Loja"}),(0,r.jsx)(o.p,{value:e.storeName||"",onChange:e=>Z("storeName",e.target.value),className:"bg-zinc-800 border-zinc-700"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Pre\xe7o por 1000 Robux (R$)"}),(0,r.jsx)(o.p,{type:"number",step:"0.01",value:e.pricePerK||0,onChange:e=>Z("pricePerK",parseFloat(e.target.value)||0),className:"bg-zinc-800 border-zinc-700"})]})]})})]})]}):(0,r.jsx)("div",{className:"text-center text-zinc-500 py-12",children:"Erro ao carregar configura\xe7\xf5es"})}},85062:(e,s,a)=>{Promise.resolve().then(a.bind(a,82236))}},e=>{e.O(0,[779,822,878,541,441,255,358],()=>e(e.s=85062)),_N_E=e.O()}]);