(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{31120:(e,a,s)=>{"use strict";s.d(a,{T:()=>i});var r=s(95155),l=s(12115),n=s(64269);let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});i.displayName="Textarea"},65142:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var r=s(95155);s(12115);var l=s(64269);function n(e){let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,l.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...n})}},77600:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>A});var r=s(95155),l=s(12115),n=s(90960),i=s(3998),c=s(65142),d=s(76444),t=s(31120),o=s(11186),x=s(35299),m=s(89559),u=s(46046),h=s(91761),g=s(58734),b=s(37107),p=s(39926),j=s(42196),v=s(21786),N=s(37586);function f(e){let{title:a="T\xedtulo do Embed",description:s="Descri\xe7\xe3o do embed aparece aqui",color:l="#257e24",footerText:n="Footer do embed",thumbnailUrl:i,timestamp:c=!0,storeName:d="Nova Era Store",gamesList:t=[],pricePerK:o=27.99,status:x="\uD83D\uDFE2 Dispon\xedvel"}=e;return(0,r.jsx)("div",{className:"bg-[#313338] rounded-lg p-4 max-w-2xl",children:(0,r.jsx)("div",{className:"bg-[#2b2d31] rounded border-l-4 p-3",style:{borderColor:l},children:(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[a&&(0,r.jsx)("div",{className:"text-white font-semibold text-base mb-2 break-words",children:a}),s&&(0,r.jsx)("div",{className:"text-[#dbdee1] text-sm leading-relaxed break-words whitespace-pre-wrap mb-3",children:(e=>{let a;if(!e)return null;e=(e=>{let a=e;a=a.replace(/\{store-name\}/g,d);let s=t.length>0?t.map(e=>"• ".concat(e)).join("\n"):"• Nenhum jogo cadastrado";return(a=(a=(a=(a=a.replace(/\{games-list\}/g,s)).replace(/\{robux-price\s+(\d+)\}/g,(e,a)=>{let s=parseInt(a);return"R$ ".concat((s/1e3*o).toFixed(2))})).replace(/\{status-gamepass\}/g,x)).replace(/\{status-robux\}/g,x)).replace(/\{status\}/g,x)})(e);let s=[],l=0,n=/(\*\*(.+?)\*\*)|(\*(.+?)\*)|(__(.+?)__)/g;for(;null!==(a=n.exec(e));)a.index>l&&s.push(e.substring(l,a.index)),a[1]?s.push((0,r.jsx)("strong",{children:a[2]},a.index)):a[3]?s.push((0,r.jsx)("em",{children:a[4]},a.index)):a[5]&&s.push((0,r.jsx)("u",{children:a[6]},a.index)),l=a.index+a[0].length;return l<e.length&&s.push(e.substring(l)),s.length>0?s:e})(s)}),n&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-[#949ba4] border-t border-[#3f4147] pt-2",children:[(0,r.jsx)("span",{children:n}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),i&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{src:i,alt:"Banner",className:"w-24 h-24 rounded object-cover",onError:e=>{e.currentTarget.style.display="none"}})})]})})})}var y=s(61382),z=s(24033),C=s(64269);let w=y.bL,R=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,r.jsx)(y.q7,{ref:a,className:(0,C.cn)("border-b border-zinc-800",s),...l})});R.displayName="AccordionItem";let S=l.forwardRef((e,a)=>{let{className:s,children:l,...n}=e;return(0,r.jsx)(y.Y9,{className:"flex",children:(0,r.jsxs)(y.l9,{ref:a,className:(0,C.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...n,children:[l,(0,r.jsx)(z.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});S.displayName=y.l9.displayName;let E=l.forwardRef((e,a)=>{let{className:s,children:l,...n}=e;return(0,r.jsx)(y.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,r.jsx)("div",{className:(0,C.cn)("pb-4 pt-0",s),children:l})})});function A(){let[e,a]=(0,l.useState)(null),[s,y]=(0,l.useState)(null),[z,C]=(0,l.useState)(!0),[A,k]=(0,l.useState)(!1),[D,L]=(0,l.useState)(""),[P,J]=(0,l.useState)(!1);(0,l.useEffect)(()=>{F()},[]);let F=async()=>{try{C(!0);let[e,s]=await Promise.all([n.F.getConfig(),n.F.getDiscordServerData().catch(()=>null)]);a(e),y(s)}catch(e){console.error(e)}finally{C(!1)}},I=async()=>{if(e){k(!0),L("");try{console.log("\uD83D\uDCBE Salvando configura\xe7\xf5es:",e),console.log("\uD83D\uDCB0 PricePerK sendo enviado:",e.pricePerK,typeof e.pricePerK),await n.F.updateConfig(e),await n.F.notifyBotUpdate(),L("✅ Configura\xe7\xf5es salvas! Bot ser\xe1 atualizado automaticamente em at\xe9 10 segundos.")}catch(e){L("❌ ".concat(e instanceof Error?e.message:"Erro ao salvar"))}finally{k(!1)}}},_=async()=>{k(!0),L("");try{await n.F.notifyBotUpdate(),L("✅ Bot notificado! Atualizando em at\xe9 10 segundos."),setTimeout(()=>F(),2e3)}catch(e){L("❌ ".concat(e instanceof Error?e.message:"Erro ao sincronizar"))}finally{k(!1)}},B=(s,r)=>{e&&a({...e,[s]:r})},q=async(e,a)=>{var s;let r=null==(s=e.target.files)?void 0:s[0];if(r){J(!0),L("");try{let e=await n.F.uploadImage(r);B(a,e.url),L("✅ Imagem enviada com sucesso!")}catch(e){L("❌ ".concat(e instanceof Error?e.message:"Erro ao enviar imagem"))}finally{J(!1)}}};return z?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)(x.A,{className:"w-8 h-8 animate-spin text-emerald-500"})}):e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Configura\xe7\xf5es - Robux"}),(0,r.jsx)("p",{className:"text-zinc-400 mt-1",children:"Configure o sistema de vendas de Robux"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.$,{onClick:_,disabled:A,variant:"outline",className:"border-blue-600 text-blue-400 hover:bg-blue-600/10",children:[A?(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,r.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Sincronizar Bot"]}),(0,r.jsxs)(i.$,{onClick:I,disabled:A,className:"bg-emerald-600 hover:bg-emerald-700",children:[A?(0,r.jsx)(x.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),A?"Salvando...":"Salvar"]})]})]}),D&&(0,r.jsx)("div",{className:"p-4 rounded-lg ".concat(D.includes("✅")?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"),children:D}),(0,r.jsxs)(w,{type:"multiple",defaultValue:["store","discord","visual"],className:"space-y-4",children:[(0,r.jsxs)(R,{value:"store",className:"bg-zinc-900 border-zinc-800 rounded-lg px-6",children:[(0,r.jsx)(S,{className:"text-lg font-semibold hover:no-underline",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"w-5 h-5 text-emerald-500"}),"Configura\xe7\xf5es da Loja"]})}),(0,r.jsx)(E,{children:(0,r.jsx)("div",{className:"space-y-6 pt-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Nome da Loja"}),(0,r.jsx)(c.p,{value:e.storeName||"",onChange:e=>B("storeName",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"Nova Era Store"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Pre\xe7o por 1000 Robux (R$)"}),(0,r.jsx)(c.p,{type:"number",step:"0.01",value:e.pricePerK||0,onChange:e=>B("pricePerK",parseFloat(e.target.value)||0),className:"bg-zinc-800 border-zinc-700"})]})]})})})]}),(0,r.jsxs)(R,{value:"discord",className:"bg-zinc-900 border-zinc-800 rounded-lg px-6",children:[(0,r.jsx)(S,{className:"text-lg font-semibold hover:no-underline",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"w-5 h-5 text-blue-500"}),"Discord - Categorias e Canais"]})}),(0,r.jsx)(E,{children:(0,r.jsxs)("div",{className:"space-y-6 pt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-zinc-200 mb-3",children:"Categorias"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Carrinhos Robux"}),s?(0,r.jsxs)(o.l6,{value:e.categoryCartsRobux||"",onValueChange:e=>B("categoryCartsRobux",e),children:[(0,r.jsx)(o.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(o.yv,{placeholder:"Selecione categoria"})}),(0,r.jsx)(o.gC,{className:"bg-zinc-800 border-zinc-700",children:s.categories.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(c.p,{value:e.categoryCartsRobux||"",onChange:e=>B("categoryCartsRobux",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID da categoria"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Aprovados (Pendentes de Entrega)"}),s?(0,r.jsxs)(o.l6,{value:e.categoryApproved||"",onValueChange:e=>B("categoryApproved",e),children:[(0,r.jsx)(o.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(o.yv,{placeholder:"Selecione categoria"})}),(0,r.jsx)(o.gC,{className:"bg-zinc-800 border-zinc-700",children:s.categories.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(c.p,{value:e.categoryApproved||"",onChange:e=>B("categoryApproved",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID da categoria"})]})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-zinc-800",children:[(0,r.jsxs)("h3",{className:"font-semibold text-zinc-200 mb-3 flex items-center gap-2",children:[(0,r.jsx)(b.A,{className:"w-4 h-4"}),"Canais"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Compras Conclu\xeddas (Log)"}),s?(0,r.jsxs)(o.l6,{value:e.channelPurchasesLog||"",onValueChange:e=>B("channelPurchasesLog",e),children:[(0,r.jsx)(o.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(o.yv,{placeholder:"Selecione canal"})}),(0,r.jsx)(o.gC,{className:"bg-zinc-800 border-zinc-700",children:s.textChannels.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(c.p,{value:e.channelPurchasesLog||"",onChange:e=>B("channelPurchasesLog",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID do canal"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Entregas Conclu\xeddas"}),s?(0,r.jsxs)(o.l6,{value:e.channelDeliveriesLog||"",onValueChange:e=>B("channelDeliveriesLog",e),children:[(0,r.jsx)(o.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(o.yv,{placeholder:"Selecione canal"})}),(0,r.jsx)(o.gC,{className:"bg-zinc-800 border-zinc-700",children:s.textChannels.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(c.p,{value:e.channelDeliveriesLog||"",onChange:e=>B("channelDeliveriesLog",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID do canal"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{children:"Setup Embed Robux"}),s?(0,r.jsxs)(o.l6,{value:e.channelSetupRobux||"",onValueChange:e=>B("channelSetupRobux",e),children:[(0,r.jsx)(o.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,r.jsx)(o.yv,{placeholder:"Selecione canal"})}),(0,r.jsx)(o.gC,{className:"bg-zinc-800 border-zinc-700",children:s.textChannels.map(e=>(0,r.jsx)(o.eb,{value:e.id,children:e.name},e.id))})]}):(0,r.jsx)(c.p,{value:e.channelSetupRobux||"",onChange:e=>B("channelSetupRobux",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"ID do canal"})]})]})]})]})})]}),(0,r.jsxs)(R,{value:"visual",className:"bg-zinc-900 border-zinc-800 rounded-lg px-6",children:[(0,r.jsx)(S,{className:"text-lg font-semibold hover:no-underline",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 text-pink-500"}),"Visual - Mensagens e Embeds"]})}),(0,r.jsx)(E,{children:(0,r.jsxs)("div",{className:"space-y-6 pt-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(d.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"w-4 h-4"}),"Cor da Loja (Hex)"]}),(0,r.jsx)(c.p,{value:e.storeColor||"",onChange:e=>B("storeColor",e.target.value),className:"bg-zinc-800 border-zinc-700",placeholder:"#257e24"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(d.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"w-4 h-4"}),"Banner Robux"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.p,{value:e.bannerRobux||"",onChange:e=>B("bannerRobux",e.target.value),className:"bg-zinc-800 border-zinc-700 flex-1",placeholder:"URL da imagem ou fa\xe7a upload"}),(0,r.jsx)(i.$,{type:"button",variant:"outline",disabled:P,onClick:()=>{var e;return null==(e=document.getElementById("banner-robux-upload"))?void 0:e.click()},className:"border-zinc-700",children:P?(0,r.jsx)(x.A,{className:"w-4 h-4 animate-spin"}):(0,r.jsx)(v.A,{className:"w-4 h-4"})}),(0,r.jsx)("input",{id:"banner-robux-upload",type:"file",accept:"image/*",className:"hidden",onChange:e=>q(e,"bannerRobux")})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(d.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(N.A,{className:"w-4 h-4"}),"Mensagem do Embed Robux"]}),(0,r.jsx)(t.T,{value:e.embedRobuxMessage||"",onChange:e=>B("embedRobuxMessage",e.target.value),className:"bg-zinc-800 border-zinc-700 min-h-[120px] font-mono text-sm",placeholder:"Mensagem que aparece no embed de compra de Robux..."})]}),e.embedRobuxMessage&&(0,r.jsxs)("div",{className:"pt-4 border-t border-zinc-800",children:[(0,r.jsx)(d.J,{className:"mb-3 block",children:"Preview do Embed"}),(0,r.jsx)(f,{title:e.storeName||"Nova Era Store",description:e.embedRobuxMessage,color:e.storeColor||"#257e24",thumbnailUrl:e.bannerRobux})]})]})})]})]})]}):(0,r.jsx)("div",{className:"text-center text-zinc-500 py-12",children:"Erro ao carregar configura\xe7\xf5es"})}E.displayName=y.UC.displayName},85062:(e,a,s)=>{Promise.resolve().then(s.bind(s,77600))}},e=>{e.O(0,[779,959,912,748,911,441,255,358],()=>e(e.s=85062)),_N_E=e.O()}]);