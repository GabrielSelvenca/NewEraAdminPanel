(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{5370:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},6191:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},10512:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},33547:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>N});var r=s(95155),n=s(12115),i=s(86948),l=s(3998),c=s(65142),t=s(76444),d=s(11647),o=s(6191),x=s(5370),m=s(70532),h=s(57828),p=s(10512),j=s(42529),v=s(78874);let u=(0,s(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function N(){let[e,a]=(0,n.useState)([]),[s,N]=(0,n.useState)(!0),[b,g]=(0,n.useState)(!1),[z,y]=(0,n.useState)(null),[A,f]=(0,n.useState)(!1),[S,w]=(0,n.useState)({name:"",email:"",phone:"",asaasApiKey:"",asaasSandbox:!1,maxActiveOrders:5,cooldownSeconds:30}),[C,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{E()},[]);let E=async()=>{try{N(!0);let e=await fetch("/api/sellers",{credentials:"include"});if(e.ok){let s=await e.json();a(s)}}catch(e){console.error("Erro ao carregar sellers:",e)}finally{N(!1)}},P=async e=>{if(e.preventDefault(),!S.name||!S.email)return void alert("Preencha nome e email");try{k(!0);let e=z?"/api/sellers/".concat(z.id):"/api/sellers",a=z?"PUT":"POST",s=await fetch(e,{method:a,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)});if(s.ok)w({name:"",email:"",phone:"",asaasApiKey:"",asaasSandbox:!1,maxActiveOrders:5,cooldownSeconds:30}),g(!1),y(null),await E();else{let e=await s.text();alert(e||"Erro ao salvar seller")}}catch(e){alert(e instanceof Error?e.message:"Erro ao salvar seller")}finally{k(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Vendedores"}),(0,r.jsx)("p",{className:"text-zinc-400 mt-1",children:"Gerencie vendedores e suas API Keys do Asaas"})]}),(0,r.jsxs)(l.$,{onClick:()=>{g(!0),y(null)},className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Novo Vendedor"]})]}),b&&(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{className:"text-zinc-100",children:z?"Editar Vendedor":"Criar Novo Vendedor"}),(0,r.jsx)(i.BT,{children:z?"Atualize os dados do vendedor e sua API Key do Asaas":"Preencha os dados para criar um novo vendedor com sua API Key do Asaas"})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(t.J,{htmlFor:"name",className:"text-zinc-200",children:"Nome *"}),(0,r.jsx)(c.p,{id:"name",value:S.name,onChange:e=>w({...S,name:e.target.value}),className:"bg-zinc-800 border-zinc-700 text-zinc-100",placeholder:"Nome do vendedor",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(t.J,{htmlFor:"email",className:"text-zinc-200",children:"Email *"}),(0,r.jsx)(c.p,{id:"email",type:"email",value:S.email,onChange:e=>w({...S,email:e.target.value}),className:"bg-zinc-800 border-zinc-700 text-zinc-100",placeholder:"email@exemplo.com",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(t.J,{htmlFor:"phone",className:"text-zinc-200",children:"Telefone"}),(0,r.jsx)(c.p,{id:"phone",value:S.phone,onChange:e=>w({...S,phone:e.target.value}),className:"bg-zinc-800 border-zinc-700 text-zinc-100",placeholder:"(00) 00000-0000"})]}),(0,r.jsxs)("div",{className:"border-t border-zinc-800 pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(x.A,{className:"w-5 h-5 text-blue-400"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-100",children:"Configura\xe7\xe3o Asaas"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(t.J,{htmlFor:"asaasApiKey",className:"text-zinc-200 flex items-center gap-2",children:["API Key do Asaas *",(0,r.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(!A),className:"h-6 w-6 p-0",children:A?(0,r.jsx)(m.A,{className:"w-4 h-4"}):(0,r.jsx)(h.A,{className:"w-4 h-4"})})]}),(0,r.jsx)(c.p,{id:"asaasApiKey",type:A?"text":"password",value:S.asaasApiKey,onChange:e=>w({...S,asaasApiKey:e.target.value}),className:"bg-zinc-800 border-zinc-700 text-zinc-100 font-mono",placeholder:"$aact_...",required:!z}),(0,r.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:z?"Deixe em branco para manter a API Key atual":"Cada vendedor precisa de sua pr\xf3pria API Key do Asaas"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"asaasSandbox",checked:S.asaasSandbox,onChange:e=>w({...S,asaasSandbox:e.target.checked}),className:"rounded border-zinc-700"}),(0,r.jsx)(t.J,{htmlFor:"asaasSandbox",className:"text-zinc-200 cursor-pointer",children:"Usar ambiente Sandbox (testes)"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-t border-zinc-800 pt-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(t.J,{htmlFor:"maxActiveOrders",className:"text-zinc-200",children:"Pedidos Simult\xe2neos"}),(0,r.jsx)(c.p,{id:"maxActiveOrders",type:"number",min:"1",max:"20",value:S.maxActiveOrders,onChange:e=>w({...S,maxActiveOrders:parseInt(e.target.value)}),className:"bg-zinc-800 border-zinc-700 text-zinc-100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(t.J,{htmlFor:"cooldownSeconds",className:"text-zinc-200",children:"Cooldown (segundos)"}),(0,r.jsx)(c.p,{id:"cooldownSeconds",type:"number",min:"0",max:"300",value:S.cooldownSeconds,onChange:e=>w({...S,cooldownSeconds:parseInt(e.target.value)}),className:"bg-zinc-800 border-zinc-700 text-zinc-100"})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,r.jsx)(l.$,{type:"submit",disabled:C,className:"bg-green-600 hover:bg-green-700",children:C?"Salvando...":z?"Atualizar":"Criar Vendedor"}),(0,r.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>{g(!1),y(null)},className:"border-zinc-700",children:"Cancelar"})]})]})})]}),(0,r.jsxs)(i.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"w-5 h-5 text-zinc-400"}),(0,r.jsx)(i.ZB,{className:"text-zinc-100",children:"Vendedores Cadastrados"})]}),(0,r.jsxs)(i.BT,{children:[e.length," vendedor(es) dispon\xedvel(is) para processar pedidos"]})]}),(0,r.jsx)(i.Wu,{children:s?(0,r.jsx)("p",{className:"text-zinc-400 text-center py-8",children:"Carregando vendedores..."}):0===e.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(p.A,{className:"w-16 h-16 mx-auto mb-4 text-zinc-600"}),(0,r.jsx)("p",{className:"text-zinc-400 text-lg mb-2",children:"Nenhum vendedor cadastrado"}),(0,r.jsx)("p",{className:"text-zinc-500 text-sm",children:"Clique em Novo Vendedor para adicionar o primeiro vendedor"})]}):(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsx)("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-4 hover:border-zinc-600 transition-colors",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-zinc-100",children:e.name}),(e=>{let a={ACTIVE:{variant:"default",label:"Ativo"},PAUSED:{variant:"secondary",label:"Pausado"},BANNED:{variant:"destructive",label:"Banido"}},s=a[e]||a.ACTIVE;return(0,r.jsx)(d.E,{variant:s.variant,children:s.label})})(e.status),e.hasAsaasApiKey?(0,r.jsxs)(d.E,{variant:"default",className:"bg-green-600",children:[(0,r.jsx)(j.A,{className:"w-3 h-3 mr-1"}),"API Key Configurada"]}):(0,r.jsxs)(d.E,{variant:"destructive",children:[(0,r.jsx)(v.A,{className:"w-3 h-3 mr-1"}),"Sem API Key"]}),e.asaasSandbox&&(0,r.jsx)(d.E,{variant:"secondary",children:"Sandbox"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-zinc-500",children:"Email"}),(0,r.jsx)("p",{className:"text-zinc-300",children:e.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-zinc-500",children:"Pedidos Ativos"}),(0,r.jsxs)("p",{className:"text-zinc-300",children:[e.activeOrders," / ",e.maxActiveOrders]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-zinc-500",children:"Robux Dispon\xedvel"}),(0,r.jsx)("p",{className:"text-zinc-300",children:e.robuxBalance.toLocaleString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-zinc-500",children:"Total Completado"}),(0,r.jsxs)("p",{className:"text-zinc-300",children:[e.totalOrdersCompleted," pedidos"]})]})]}),e.robloxUsername&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsxs)("p",{className:"text-xs text-zinc-500",children:["Roblox: ",(0,r.jsx)("span",{className:"text-zinc-400",children:e.robloxUsername})]})})]}),(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{y(e),w({name:e.name,email:e.email,phone:e.phone||"",asaasApiKey:"",asaasSandbox:e.asaasSandbox,maxActiveOrders:e.maxActiveOrders,cooldownSeconds:e.cooldownSeconds}),g(!0)},className:"border-zinc-700 hover:bg-zinc-800",children:[(0,r.jsx)(u,{className:"w-4 h-4 mr-1"}),"Editar"]})]})},e.id))})})]})]})}},96334:(e,a,s)=>{Promise.resolve().then(s.bind(s,33547))}},e=>{e.O(0,[779,606,441,255,358],()=>e(e.s=96334)),_N_E=e.O()}]);