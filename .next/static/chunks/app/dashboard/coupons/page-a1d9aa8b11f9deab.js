(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{11186:(e,a,t)=>{"use strict";t.d(a,{bq:()=>u,eb:()=>h,gC:()=>g,l6:()=>d,yv:()=>m});var s=t(95155),r=t(12115),n=t(13306),i=t(24033),o=t(12108),l=t(5917),c=t(64269);let d=n.bL;n.YJ;let m=n.WT,u=r.forwardRef((e,a)=>{let{className:t,children:r,...o}=e;return(0,s.jsxs)(n.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 ring-offset-zinc-950 placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.l9.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})});x.displayName=n.PP.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=n.wn.displayName;let g=r.forwardRef((e,a)=>{let{className:t,children:r,position:i="popper",...o}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-700 bg-zinc-800 text-zinc-100 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...o,children:[(0,s.jsx)(x,{}),(0,s.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});g.displayName=n.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=n.JU.displayName;let h=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(n.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-700 focus:text-zinc-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:r})]})});h.displayName=n.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-zinc-700",t),...r})}).displayName=n.wv.displayName},28691:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>U});var s=t(95155),r=t(12115),n=t(36118),i=t(3998),o=t(86948),l=t(65142),c=t(76444),d=t(11186),m=t(6191),u=t(35299),x=t(82063),p=t(71360),g=t(19204),h=t(91761),v=t(16485),f=t(37107);let b=r.memo(e=>{let{message:a="Carregando...",size:t="md"}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat({sm:"h-32",md:"h-64",lg:"min-h-screen"}[t]),children:[(0,s.jsx)(u.A,{className:"".concat({sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"}[t]," animate-spin text-emerald-500 mb-2")}),a&&(0,s.jsx)("p",{className:"text-zinc-400 text-sm",children:a})]})});b.displayName="LoadingState",r.memo(e=>{let{icon:a,title:t,description:r,actionLabel:n,onAction:o}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[a&&(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center mb-4",children:(0,s.jsx)(a,{className:"w-8 h-8 text-zinc-500"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:t}),r&&(0,s.jsx)("p",{className:"text-zinc-400 text-sm text-center max-w-md mb-6",children:r}),n&&o&&(0,s.jsx)(i.$,{onClick:o,className:"bg-emerald-600 hover:bg-emerald-700",children:n})]})}).displayName="EmptyState";var j=t(6132),N=t(89559);r.memo(e=>{let{title:a="Erro ao carregar",message:t,onRetry:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:(0,s.jsx)(j.A,{className:"w-8 h-8 text-red-500"})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:a}),(0,s.jsx)("p",{className:"text-zinc-400 text-sm text-center max-w-md mb-6",children:t}),r&&(0,s.jsxs)(i.$,{onClick:r,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[(0,s.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]})]})}).displayName="ErrorState";var y=t(79005),z=t(44405);z.Ikc({username:z.YjP().min(1,"Usu\xe1rio \xe9 obrigat\xf3rio").trim(),password:z.YjP().min(6,"Senha deve ter no m\xednimo 6 caracteres").max(100,"Senha muito longa")}),z.Ikc({name:z.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),username:z.YjP().min(1,"Usu\xe1rio \xe9 obrigat\xf3rio").max(100,"Usu\xe1rio muito longo").trim(),password:z.YjP().min(8,"Senha deve ter no m\xednimo 8 caracteres").max(100,"Senha muito longa").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra mai\xfascula").regex(/[a-z]/,"Senha deve conter pelo menos uma letra min\xfascula").regex(/[0-9]/,"Senha deve conter pelo menos um n\xfamero"),role:z.k5n(["admin","editor","viewer"],{message:"Tipo de usu\xe1rio inv\xe1lido"})}),z.Ikc({currentPassword:z.YjP().min(1,"Senha atual \xe9 obrigat\xf3ria").optional(),newPassword:z.YjP().min(8,"Nova senha deve ter no m\xednimo 8 caracteres").max(100,"Senha muito longa").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra mai\xfascula").regex(/[a-z]/,"Senha deve conter pelo menos uma letra min\xfascula").regex(/[0-9]/,"Senha deve conter pelo menos um n\xfamero")}),z.Ikc({name:z.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),robloxGameId:z.YjP().regex(/^\d+$/,"ID do jogo deve conter apenas n\xfameros").optional().or(z.euz("")),robloxPlaceId:z.YjP().regex(/^\d+$/,"ID do place deve conter apenas n\xfameros").optional().or(z.euz("")),imageUrl:z.YjP().url("URL da imagem inv\xe1lida").optional().or(z.euz("")),bannerUrl:z.YjP().url("URL do banner inv\xe1lida").optional().or(z.euz("")),description:z.YjP().max(500,"Descri\xe7\xe3o muito longa").optional().or(z.euz("")),creator:z.YjP().max(100,"Nome do criador muito longo").optional().or(z.euz("")),active:z.zMY().default(!0)}),z.Ikc({name:z.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),description:z.YjP().max(500,"Descri\xe7\xe3o muito longa").optional().or(z.euz("")),type:z.aig().int().min(0).max(10),delivery:z.aig().int().min(0).max(10),price:z.aig().min(0,"Pre\xe7o n\xe3o pode ser negativo").max(1e6,"Pre\xe7o muito alto").optional(),robuxAmount:z.aig().int("Quantidade de Robux deve ser um n\xfamero inteiro").min(0,"Quantidade n\xe3o pode ser negativa").max(1e9,"Quantidade muito alta"),robloxGamepassId:z.YjP().regex(/^\d+$/,"ID do gamepass deve conter apenas n\xfameros").optional().or(z.euz("")),imageUrl:z.YjP().url("URL da imagem inv\xe1lida").optional().or(z.euz("")),active:z.zMY().default(!0),displayOrder:z.aig().int().min(0).default(0),gameId:z.aig().int().positive("ID do jogo inv\xe1lido")}),z.Ikc({name:z.YjP().min(2,"Nome deve ter no m\xednimo 2 caracteres").max(100,"Nome muito longo").trim(),pixKey:z.YjP().min(1,"Chave PIX \xe9 obrigat\xf3ria").regex(/^([0-9]{11}|[0-9]{14}|[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}|[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})$/,"Chave PIX inv\xe1lida (CPF, CNPJ, email, telefone ou chave aleat\xf3ria)").trim(),percentage:z.aig().min(0,"Porcentagem n\xe3o pode ser negativa").max(100,"Porcentagem n\xe3o pode ser maior que 100").int("Porcentagem deve ser um n\xfamero inteiro"),active:z.zMY().default(!0)});let w=z.Ikc({code:z.YjP().min(3,"C\xf3digo deve ter no m\xednimo 3 caracteres").max(20,"C\xf3digo muito longo").regex(/^[A-Z0-9_-]+$/,"C\xf3digo deve conter apenas letras mai\xfasculas, n\xfameros, - e _").toUpperCase().trim(),discountType:z.k5n(["percentage","fixed"],{message:"Tipo de desconto inv\xe1lido"}),discountValue:z.aig().positive("Valor do desconto deve ser positivo"),expiresAt:z.YjP().datetime("Data de expira\xe7\xe3o inv\xe1lida").optional().or(z.euz("")),maxUses:z.aig().int("M\xe1ximo de usos deve ser um n\xfamero inteiro").positive("M\xe1ximo de usos deve ser positivo").optional().or(z.euz(null)),active:z.zMY().default(!0)});z.Ikc({storeName:z.YjP().min(2,"Nome da loja deve ter no m\xednimo 2 caracteres").max(50,"Nome muito longo").trim().optional().or(z.euz("")),storeColor:z.YjP().regex(/^#[0-9A-Fa-f]{6}$/,"Cor inv\xe1lida (formato: #RRGGBB)").optional().or(z.euz("")),pricePerK:z.aig().min(.01,"Pre\xe7o por K deve ser maior que 0").max(1e3,"Pre\xe7o muito alto"),paymentTimeoutMinutes:z.aig().int("Timeout deve ser um n\xfamero inteiro").min(5,"Timeout m\xednimo de 5 minutos").max(60,"Timeout m\xe1ximo de 60 minutos"),cartInactivityMinutes:z.aig().int("Inatividade deve ser um n\xfamero inteiro").min(1,"Inatividade m\xednima de 1 minuto").max(30,"Inatividade m\xe1xima de 30 minutos"),embedGamepassMessage:z.YjP().max(2e3,"Mensagem muito longa").optional().or(z.euz("")),embedRobuxMessage:z.YjP().max(2e3,"Mensagem muito longa").optional().or(z.euz("")),bannerGamepass:z.YjP().url("URL do banner inv\xe1lida").optional().or(z.euz("")),bannerRobux:z.YjP().url("URL do banner inv\xe1lida").optional().or(z.euz("")),gamepassEnabled:z.zMY().default(!0),robuxEnabled:z.zMY().default(!0)});var C=t(65229),P=t(90368),A=t(27937),R=t(26983),S=t(64269);let Y=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],k=["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"];function D(e){let{value:a,onChange:t,placeholder:n="Selecionar data e hora",className:o}=e,[l,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(new Date().getMonth()),[u,x]=(0,r.useState)(new Date().getFullYear()),[p,g]=(0,r.useState)(a?new Date(a):null),[h,f]=(0,r.useState)((null==p?void 0:p.getHours())||12),[b,j]=(0,r.useState)((null==p?void 0:p.getMinutes())||0),N=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(a){let e=new Date(a);g(e),m(e.getMonth()),x(e.getFullYear()),f(e.getHours()),j(e.getMinutes())}},[a]),(0,r.useEffect)(()=>{let e=e=>{N.current&&!N.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let y=e=>{g(new Date(u,d,e,h,b))},z=()=>{g(null),t(""),c(!1)};return(0,s.jsxs)("div",{ref:N,className:(0,S.cn)("relative",o),children:[(0,s.jsxs)("button",{type:"button",onClick:()=>c(!l),className:(0,S.cn)("w-full flex items-center justify-between px-3 py-2 rounded-md border transition-colors","bg-zinc-800 border-zinc-700 text-left","hover:border-zinc-600 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",!a&&"text-zinc-500"),children:[(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"w-4 h-4 text-zinc-400"}),a?a?new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"":n]}),a&&(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),z()},className:"p-1 hover:bg-zinc-700 rounded",children:(0,s.jsx)(C.A,{className:"w-4 h-4 text-zinc-400"})})]}),l&&(0,s.jsxs)("div",{className:"absolute z-50 mt-2 p-4 bg-zinc-900 border border-zinc-700 rounded-xl shadow-xl min-w-[300px]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{0===d?(m(11),x(u-1)):m(d-1)},className:"p-1 hover:bg-zinc-800 rounded-lg transition-colors",children:(0,s.jsx)(P.A,{className:"w-5 h-5 text-zinc-400"})}),(0,s.jsxs)("span",{className:"font-semibold text-zinc-100",children:[Y[d]," ",u]}),(0,s.jsx)("button",{type:"button",onClick:()=>{11===d?(m(0),x(u+1)):m(d+1)},className:"p-1 hover:bg-zinc-800 rounded-lg transition-colors",children:(0,s.jsx)(A.A,{className:"w-5 h-5 text-zinc-400"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:k.map(e=>(0,s.jsx)("div",{className:"w-8 h-8 flex items-center justify-center text-xs font-medium text-zinc-500",children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:(()=>{let e=new Date(u,d+1,0).getDate(),a=new Date(u,d,1).getDay(),t=[];for(let e=0;e<a;e++)t.push((0,s.jsx)("div",{className:"w-8 h-8"},"empty-".concat(e)));for(let a=1;a<=e;a++){let e=p&&p.getDate()===a&&p.getMonth()===d&&p.getFullYear()===u,r=new Date().getDate()===a&&new Date().getMonth()===d&&new Date().getFullYear()===u;t.push((0,s.jsx)("button",{type:"button",onClick:()=>y(a),className:(0,S.cn)("w-8 h-8 rounded-lg text-sm font-medium transition-all",e?"bg-emerald-500 text-white":r?"bg-zinc-700 text-emerald-400":"text-zinc-300 hover:bg-zinc-700"),children:a},a))}return t})()}),(0,s.jsx)("div",{className:"border-t border-zinc-700 pt-4 mb-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)(R.A,{className:"w-4 h-4 text-zinc-400"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("select",{value:h,onChange:e=>f(parseInt(e.target.value)),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-2 py-1.5 text-sm text-zinc-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:Array.from({length:24},(e,a)=>(0,s.jsx)("option",{value:a,children:a.toString().padStart(2,"0")},a))}),(0,s.jsx)("span",{className:"text-zinc-400 font-bold",children:":"}),(0,s.jsx)("select",{value:b,onChange:e=>j(parseInt(e.target.value)),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-2 py-1.5 text-sm text-zinc-100 focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:Array.from({length:60},(e,a)=>(0,s.jsx)("option",{value:a,children:a.toString().padStart(2,"0")},a))})]})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.$,{type:"button",onClick:z,variant:"outline",size:"sm",className:"flex-1",children:"Limpar"}),(0,s.jsx)(i.$,{type:"button",onClick:()=>{p&&t(new Date(p.getFullYear(),p.getMonth(),p.getDate(),h,b).toISOString().slice(0,16)),c(!1)},size:"sm",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:!p,children:"Confirmar"})]})]})]})}function U(){let[e,a]=(0,r.useState)([]),[t,j]=(0,r.useState)(!0),[N,z]=(0,r.useState)(!1),[C,P]=(0,r.useState)(!1),[A,R]=(0,r.useState)({code:"",discountType:"percentage",discountValue:0,expiresAt:"",maxUses:""});(0,r.useEffect)(()=>{S()},[]);let S=async()=>{try{j(!0);let e=await n.FH.getCoupons();a(e)}catch(e){console.error(e)}finally{j(!1)}},Y=async()=>{let e={code:A.code,discountType:A.discountType,discountValue:A.discountValue,expiresAt:A.expiresAt||"",maxUses:A.maxUses?parseInt(A.maxUses):null,active:!0},a=w.safeParse(e);if(!a.success){var t;y.oR.error("Valida\xe7\xe3o",(null==(t=a.error.issues[0])?void 0:t.message)||"Dados inv\xe1lidos");return}try{z(!0),await n.FH.createCoupon({...a.data,expiresAt:a.data.expiresAt||null}),y.oR.success("Cupom criado com sucesso"),R({code:"",discountType:"percentage",discountValue:0,expiresAt:"",maxUses:""}),P(!1),await S()}catch(e){y.oR.error("Erro ao criar cupom",e instanceof Error?e.message:void 0)}finally{z(!1)}},k=async e=>{if(confirm("Tem certeza que deseja deletar este cupom?"))try{await n.FH.deleteCoupon(e),y.oR.success("Cupom deletado com sucesso"),await S()}catch(e){y.oR.error("Erro ao deletar cupom",e instanceof Error?e.message:void 0)}},U=async(e,a)=>{try{await n.FH.updateCoupon(e,{active:!a}),y.oR.success("Cupom ".concat(a?"desativado":"ativado"," com sucesso")),await S()}catch(e){y.oR.error("Erro ao atualizar cupom",e instanceof Error?e.message:void 0)}};return t?(0,s.jsx)(b,{message:"Carregando cupons..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Cupons"}),(0,s.jsx)("p",{className:"text-zinc-400 mt-1",children:"Gerencie cupons de desconto com limite de tempo e usos"})]}),(0,s.jsxs)(i.$,{onClick:()=>P(!C),className:"bg-emerald-600 hover:bg-emerald-700",children:[(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Novo Cupom"]})]}),C&&(0,s.jsxs)(o.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{children:"Criar Novo Cupom"})}),(0,s.jsxs)(o.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"C\xf3digo do Cupom"}),(0,s.jsx)(l.p,{value:A.code,onChange:e=>R({...A,code:e.target.value.toUpperCase()}),className:"bg-zinc-800 border-zinc-700",placeholder:"DESCONTO10",maxLength:50})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Tipo de Desconto"}),(0,s.jsxs)(d.l6,{value:A.discountType,onValueChange:e=>R({...A,discountType:e}),children:[(0,s.jsx)(d.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,s.jsx)(d.yv,{})}),(0,s.jsxs)(d.gC,{className:"bg-zinc-800 border-zinc-700",children:[(0,s.jsx)(d.eb,{value:"percentage",children:"Percentual (%)"}),(0,s.jsx)(d.eb,{value:"fixed",children:"Valor Fixo (R$)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Valor do Desconto"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.p,{type:"text",inputMode:"decimal",value:A.discountValue||"",onChange:e=>{let a=e.target.value.replace(/[^0-9.,]/g,"").replace(",",".");R({...A,discountValue:parseFloat(a)||0})},className:"bg-zinc-800 border-zinc-700 pr-10 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"percentage"===A.discountType?"10":"5.00"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:"percentage"===A.discountType?"%":"R$"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Data de Expira\xe7\xe3o (Opcional)"}),(0,s.jsx)(D,{value:A.expiresAt,onChange:e=>R({...A,expiresAt:e}),placeholder:"Selecionar data e hora"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.J,{children:"Limite de Usos (Opcional)"}),(0,s.jsx)(l.p,{type:"text",inputMode:"numeric",value:A.maxUses,onChange:e=>{let a=e.target.value.replace(/[^0-9]/g,"");R({...A,maxUses:a})},className:"bg-zinc-800 border-zinc-700 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Deixe vazio para ilimitado"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(i.$,{onClick:Y,disabled:N,className:"bg-emerald-600 hover:bg-emerald-700",children:[N?(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,s.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Criar Cupom"]}),(0,s.jsx)(i.$,{onClick:()=>P(!1),variant:"outline",children:"Cancelar"})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===e.length?(0,s.jsx)(o.Zp,{className:"bg-zinc-900 border-zinc-800 col-span-full",children:(0,s.jsxs)(o.Wu,{className:"py-12 text-center text-zinc-500",children:[(0,s.jsx)(x.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),"Nenhum cupom cadastrado"]})}):e.map(e=>(0,s.jsxs)(o.Zp,{className:"bg-zinc-900 border-zinc-800 ".concat(e.active?"":"opacity-50"),children:[(0,s.jsx)(o.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 text-emerald-500"}),(0,s.jsx)(o.ZB,{className:"text-lg",children:e.code})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(i.$,{size:"sm",variant:e.active?"outline":"default",onClick:()=>U(e.id,e.active),className:"h-7 px-2",children:e.active?"Desativar":"Ativar"}),(0,s.jsx)(i.$,{size:"sm",variant:"destructive",onClick:()=>k(e.id),className:"h-7 px-2",children:(0,s.jsx)(p.A,{className:"w-4 h-4"})})]})]})}),(0,s.jsxs)(o.Wu,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:["percentage"===e.discountType?(0,s.jsx)(g.A,{className:"w-4 h-4 text-blue-400"}):(0,s.jsx)(h.A,{className:"w-4 h-4 text-green-400"}),(0,s.jsx)("span",{className:"text-zinc-300",children:"percentage"===e.discountType?"".concat(e.discountValue,"% de desconto"):"R$ ".concat(e.discountValue.toFixed(2)," de desconto")})]}),e.expiresAt&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[(0,s.jsx)(v.A,{className:"w-4 h-4"}),"Expira: ",new Date(e.expiresAt).toLocaleString("pt-BR")]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[(0,s.jsx)(f.A,{className:"w-4 h-4"}),"Usos: ",e.currentUses,e.maxUses?" / ".concat(e.maxUses):" (ilimitado)"]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-zinc-800",children:[e.isExpired&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded bg-red-500/10 text-red-400 border border-red-500/20",children:"Expirado"}),e.isMaxUsesReached&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded bg-orange-500/10 text-orange-400 border border-orange-500/20 ml-2",children:"Limite Atingido"}),e.isValid&&e.active&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:"Ativo"})]})]})]},e.id))})]})}},65142:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(95155);t(12115);var r=t(64269);function n(e){let{className:a,type:t,...n}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...n})}},76444:(e,a,t)=>{"use strict";t.d(a,{J:()=>i});var s=t(95155);t(12115);var r=t(46554),n=t(64269);function i(e){let{className:a,...t}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...t})}},79005:(e,a,t)=>{"use strict";t.d(a,{oR:()=>r});var s=t(18720);let r={success:(e,a)=>s.oR.success(e,{description:a}),error:(e,a)=>s.oR.error(e,{description:a}),info:(e,a)=>s.oR.info(e,{description:a}),warning:(e,a)=>s.oR.warning(e,{description:a}),loading:e=>s.oR.loading(e),promise:(e,a)=>s.oR.promise(e,a)}},79509:(e,a,t)=>{Promise.resolve().then(t.bind(t,28691))},86948:(e,a,t)=>{"use strict";t.d(a,{BT:()=>l,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i});var s=t(95155);t(12115);var r=t(64269);function n(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function i(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function o(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...t})}function l(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...t})}function c(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...t})}}},e=>{e.O(0,[779,485,12,720,328,979,441,255,358],()=>e(e.s=79509)),_N_E=e.O()}]);