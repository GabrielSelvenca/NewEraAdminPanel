(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var s=a(95155);a(12115);var r=a(32467),i=a(83101),n=a(64269);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a="default",size:i="default",asChild:o=!1,...d}=e,l=o?r.DX:"button";return(0,s.jsx)(l,{"data-slot":"button","data-variant":a,"data-size":i,className:(0,n.cn)(c({variant:a,size:i,className:t})),...d})}},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11186:(e,t,a)=>{"use strict";a.d(t,{bq:()=>p,eb:()=>x,gC:()=>y,l6:()=>l,yv:()=>u});var s=a(95155),r=a(12115),i=a(13306),n=a(24033),c=a(12108),o=a(5917),d=a(64269);let l=i.bL;i.YJ;let u=i.WT,p=r.forwardRef((e,t)=>{let{className:a,children:r,...c}=e;return(0,s.jsxs)(i.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-zinc-100 ring-offset-zinc-950 placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[r,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=i.l9.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(c.A,{className:"h-4 w-4"})})});m.displayName=i.PP.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=i.wn.displayName;let y=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...c}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-700 bg-zinc-800 text-zinc-100 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...c,children:[(0,s.jsx)(m,{}),(0,s.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(h,{})]})})});y.displayName=i.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=i.JU.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(i.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-zinc-700 focus:text-zinc-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:r})]})});x.displayName=i.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-zinc-700",a),...r})}).displayName=i.wv.displayName},16485:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},19204:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},37107:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]])},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(2821),r=a(75889);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155);a(12115);var r=a(64269);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},71360:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},72188:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(95155),r=a(12115),i=a(90960),n=a(3998),c=a(86948),o=a(65142),d=a(76444),l=a(11186),u=a(35299),p=a(6191),m=a(82063),h=a(71360),y=a(19204),x=a(91761),g=a(16485),f=a(37107);function v(){let[e,t]=(0,r.useState)([]),[a,v]=(0,r.useState)(!0),[b,N]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[q,S]=(0,r.useState)({code:"",discountType:"percentage",discountValue:0,expiresAt:"",maxUses:""});(0,r.useEffect)(()=>{A()},[]);let A=async()=>{try{v(!0);let e=await i.F.getCoupons();t(e)}catch(e){console.error(e)}finally{v(!1)}},k=async()=>{if(!q.code||q.discountValue<=0)return void alert("Preencha todos os campos obrigat\xf3rios");try{N(!0),await i.F.createCoupon({code:q.code.toUpperCase(),discountType:q.discountType,discountValue:q.discountValue,expiresAt:q.expiresAt||null,maxUses:q.maxUses?parseInt(q.maxUses):null}),S({code:"",discountType:"percentage",discountValue:0,expiresAt:"",maxUses:""}),w(!1),await A()}catch(e){alert(e instanceof Error?e.message:"Erro ao criar cupom")}finally{N(!1)}},z=async e=>{if(confirm("Tem certeza que deseja deletar este cupom?"))try{await i.F.deleteCoupon(e),await A()}catch(e){alert(e instanceof Error?e.message:"Erro ao deletar cupom")}},P=async(e,t)=>{try{await i.F.updateCoupon(e,{active:!t}),await A()}catch(e){alert(e instanceof Error?e.message:"Erro ao atualizar cupom")}};return a?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(u.A,{className:"w-8 h-8 animate-spin text-emerald-500"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Cupons"}),(0,s.jsx)("p",{className:"text-zinc-400 mt-1",children:"Gerencie cupons de desconto com limite de tempo e usos"})]}),(0,s.jsxs)(n.$,{onClick:()=>w(!j),className:"bg-emerald-600 hover:bg-emerald-700",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Novo Cupom"]})]}),j&&(0,s.jsxs)(c.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,s.jsx)(c.aR,{children:(0,s.jsx)(c.ZB,{children:"Criar Novo Cupom"})}),(0,s.jsxs)(c.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{children:"C\xf3digo do Cupom"}),(0,s.jsx)(o.p,{value:q.code,onChange:e=>S({...q,code:e.target.value.toUpperCase()}),className:"bg-zinc-800 border-zinc-700",placeholder:"DESCONTO10",maxLength:50})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{children:"Tipo de Desconto"}),(0,s.jsxs)(l.l6,{value:q.discountType,onValueChange:e=>S({...q,discountType:e}),children:[(0,s.jsx)(l.bq,{className:"bg-zinc-800 border-zinc-700",children:(0,s.jsx)(l.yv,{})}),(0,s.jsxs)(l.gC,{className:"bg-zinc-800 border-zinc-700",children:[(0,s.jsx)(l.eb,{value:"percentage",children:"Percentual (%)"}),(0,s.jsx)(l.eb,{value:"fixed",children:"Valor Fixo (R$)"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{children:"Valor do Desconto"}),(0,s.jsx)(o.p,{type:"number",step:"0.01",value:q.discountValue,onChange:e=>S({...q,discountValue:parseFloat(e.target.value)||0}),className:"bg-zinc-800 border-zinc-700",placeholder:"percentage"===q.discountType?"10":"5.00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{children:"Data de Expira\xe7\xe3o (Opcional)"}),(0,s.jsx)(o.p,{type:"datetime-local",value:q.expiresAt,onChange:e=>S({...q,expiresAt:e.target.value}),className:"bg-zinc-800 border-zinc-700"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{children:"Limite de Usos (Opcional)"}),(0,s.jsx)(o.p,{type:"number",value:q.maxUses,onChange:e=>S({...q,maxUses:e.target.value}),className:"bg-zinc-800 border-zinc-700",placeholder:"Deixe vazio para ilimitado"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.$,{onClick:k,disabled:b,className:"bg-emerald-600 hover:bg-emerald-700",children:[b?(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2 animate-spin"}):(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Criar Cupom"]}),(0,s.jsx)(n.$,{onClick:()=>w(!1),variant:"outline",children:"Cancelar"})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:0===e.length?(0,s.jsx)(c.Zp,{className:"bg-zinc-900 border-zinc-800 col-span-full",children:(0,s.jsxs)(c.Wu,{className:"py-12 text-center text-zinc-500",children:[(0,s.jsx)(m.A,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),"Nenhum cupom cadastrado"]})}):e.map(e=>(0,s.jsxs)(c.Zp,{className:"bg-zinc-900 border-zinc-800 ".concat(e.active?"":"opacity-50"),children:[(0,s.jsx)(c.aR,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"w-5 h-5 text-emerald-500"}),(0,s.jsx)(c.ZB,{className:"text-lg",children:e.code})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(n.$,{size:"sm",variant:e.active?"outline":"default",onClick:()=>P(e.id,e.active),className:"h-7 px-2",children:e.active?"Desativar":"Ativar"}),(0,s.jsx)(n.$,{size:"sm",variant:"destructive",onClick:()=>z(e.id),className:"h-7 px-2",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})})]})]})}),(0,s.jsxs)(c.Wu,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:["percentage"===e.discountType?(0,s.jsx)(y.A,{className:"w-4 h-4 text-blue-400"}):(0,s.jsx)(x.A,{className:"w-4 h-4 text-green-400"}),(0,s.jsx)("span",{className:"text-zinc-300",children:"percentage"===e.discountType?"".concat(e.discountValue,"% de desconto"):"R$ ".concat(e.discountValue.toFixed(2)," de desconto")})]}),e.expiresAt&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[(0,s.jsx)(g.A,{className:"w-4 h-4"}),"Expira: ",new Date(e.expiresAt).toLocaleString("pt-BR")]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[(0,s.jsx)(f.A,{className:"w-4 h-4"}),"Usos: ",e.currentUses,e.maxUses?" / ".concat(e.maxUses):" (ilimitado)"]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-zinc-800",children:[e.isExpired&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded bg-red-500/10 text-red-400 border border-red-500/20",children:"Expirado"}),e.isMaxUsesReached&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded bg-orange-500/10 text-orange-400 border border-orange-500/20 ml-2",children:"Limite Atingido"}),e.isValid&&e.active&&(0,s.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded bg-emerald-500/10 text-emerald-400 border border-emerald-500/20",children:"Ativo"})]})]})]},e.id))})]})}},76444:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var s=a(95155);a(12115);var r=a(46554),i=a(64269);function n(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},79509:(e,t,a)=>{Promise.resolve().then(a.bind(a,72188))},82063:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},86948:(e,t,a)=>{"use strict";a.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>i,aR:()=>n});var s=a(95155);a(12115);var r=a(64269);function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},90960:(e,t,a)=>{"use strict";a.d(t,{F:()=>i});let s=a(95704).env.NEXT_PUBLIC_API_URL||"https://neweraapi.squareweb.app";class r{async sleep(e){return new Promise(t=>setTimeout(t,e))}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={"Content-Type":"application/json",...t.headers},r=null;for(let n=0;n<this.maxRetries;n++)try{let i=new AbortController,c=setTimeout(()=>i.abort(),3e4),o=await fetch("".concat(s).concat(e),{...t,headers:a,credentials:"include",signal:i.signal});if(clearTimeout(c),401===o.status)throw e.includes("/login")||(window.location.href="/login"),Error("N\xe3o autorizado");if(!o.ok){let e=await o.text();if(o.status>=500&&n<this.maxRetries-1){r=Error(e||"Erro ".concat(o.status)),await this.sleep(this.retryDelay*(n+1));continue}throw window.dispatchEvent(new Event("api-offline")),Error(e||"Erro ".concat(o.status))}if(window.dispatchEvent(new Event("api-online")),204===o.status)return{};return o.json()}catch(e){var i;if(("AbortError"===e.name||(null==(i=e.message)?void 0:i.includes("fetch")))&&n<this.maxRetries-1){console.warn("API request failed (attempt ".concat(n+1,"/").concat(this.maxRetries,"):"),e.message),r=e,await this.sleep(this.retryDelay*(n+1));continue}throw e}throw window.dispatchEvent(new Event("api-offline")),r||Error("Falha ao conectar com a API ap\xf3s m\xfaltiplas tentativas")}async login(e,t){return this.request("/api/admin/login",{method:"POST",body:JSON.stringify({email:e,password:t})})}async logout(){await this.request("/api/admin/logout",{method:"POST"})}async healthCheck(){try{return(await fetch("".concat(s,"/health"),{method:"GET",cache:"no-store"})).ok}catch(e){return!1}}async getCurrentUser(){return this.request("/api/admin/me")}async isAuthenticated(){try{return await this.getCurrentUser(),!0}catch(e){return!1}}async getGames(){return this.request("/api/games")}async getGame(e){return this.request("/api/games/".concat(e))}async createGame(e){return this.request("/api/games",{method:"POST",body:JSON.stringify(e)})}async updateGame(e,t){return this.request("/api/games/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteGame(e){return this.request("/api/games/".concat(e),{method:"DELETE"})}async getProducts(e){return this.request("/api/products/game/".concat(e))}async createProduct(e){return this.request("/api/products",{method:"POST",body:JSON.stringify(e)})}async deleteProduct(e){return this.request("/api/products/".concat(e),{method:"DELETE"})}async refreshProductImage(e){return this.request("/api/roblox/refresh-product-image/".concat(e),{method:"POST"})}async updateProduct(e,t){return this.request("/api/products/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async getSalesStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return this.request("/api/payments/stats/period?days=".concat(e))}async getSales(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2?arguments[2]:void 0,s=new URLSearchParams({page:String(e),limit:String(t)});return a&&s.append("days",String(a)),this.request("/api/payments/sales?".concat(s))}async getConfig(){return this.request("/api/config")}async updateConfig(e){return this.request("/api/config",{method:"PUT",body:JSON.stringify(e)})}async notifyBotUpdate(){return this.request("/api/bot/notify-update",{method:"POST"})}async processPlaceholders(e,t){return(await this.request("/api/config/process-placeholders",{method:"POST",body:JSON.stringify({text:e,gamesList:t})})).processedText}async getUsers(){return this.request("/api/admin/users")}async createUser(e){return this.request("/api/admin/register",{method:"POST",body:JSON.stringify(e)})}async deleteUser(e){return this.request("/api/admin/users/".concat(e),{method:"DELETE"})}async updateUser(e,t){return this.request("/api/admin/users/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async uploadImage(e){let t=new FormData;t.append("file",e);let a=await fetch("".concat(s,"/api/upload/image"),{method:"POST",credentials:"include",body:t});if(!a.ok)throw Error((await a.json()).error||"Erro ao fazer upload da imagem");return a.json()}async changePassword(e,t){return this.request("/api/admin/users/".concat(e,"/change-password"),{method:"POST",body:JSON.stringify(t)})}async getAllowedRoles(){return this.request("/api/admin/allowed-roles")}async getStats(){return this.request("/api/stats")}async syncRoblox(e){return this.request("/api/roblox/sync",{method:"POST",body:JSON.stringify({placeIdOrUrl:e})})}async importGamepass(e,t){return this.request("/api/roblox/import-gamepass",{method:"POST",body:JSON.stringify({gameId:e,gamepassIdOrUrl:t})})}async getPartners(){return this.request("/api/partners")}async getPartner(e){return this.request("/api/partners/".concat(e))}async updatePartner(e,t){return this.request("/api/partners/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async createPartner(e){return this.request("/api/partners",{method:"POST",body:JSON.stringify(e)})}async deletePartner(e){return this.request("/api/partners/".concat(e),{method:"DELETE"})}async getAsaasSubaccounts(){return this.request("/api/asaas/subaccounts")}async createAsaasSubaccount(e){return this.request("/api/asaas/subaccounts",{method:"POST",body:JSON.stringify(e)})}async getAsaasBalance(){return this.request("/api/asaas/balance")}async getAsaasAccount(){try{return await this.request("/api/asaas/account")}catch(e){return null}}async getDiscordServerData(){let e=await this.request("/api/discord/server");return e.synced&&e.data||null}async getCoupons(){return this.request("/api/coupons")}async getCoupon(e){return this.request("/api/coupons/".concat(e))}async createCoupon(e){return this.request("/api/coupons",{method:"POST",body:JSON.stringify(e)})}async updateCoupon(e,t){return this.request("/api/coupons/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteCoupon(e){return this.request("/api/coupons/".concat(e),{method:"DELETE"})}async validateCoupon(e){return this.request("/api/coupons/validate",{method:"POST",body:JSON.stringify({code:e})})}async getAsaasCustomers(){return this.request("/api/asaas/customers")}async createAsaasCustomer(e){return this.request("/api/asaas/customers",{method:"POST",body:JSON.stringify(e)})}async getDeliveries(e){return this.request(e?"/api/deliveries?status=".concat(e):"/api/deliveries")}async getDelivery(e){return this.request("/api/deliveries/".concat(e))}async getDeliveryStats(){return this.request("/api/deliveries/stats")}async updateDeliveryStatus(e,t){return this.request("/api/deliveries/".concat(e,"/status"),{method:"PUT",body:JSON.stringify(t)})}async uploadDeliveryProof(e,t){return this.request("/api/deliveries/".concat(e,"/proof"),{method:"PUT",body:JSON.stringify({proofUrl:t})})}constructor(){this.maxRetries=3,this.retryDelay=1e3}}let i=new r},91761:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(71847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])}},e=>{e.O(0,[779,32,631,441,255,358],()=>e(e.s=79509)),_N_E=e.O()}]);