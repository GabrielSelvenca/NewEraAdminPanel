(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{10512:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},11647:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var s=r(95155);r(12115);var a=r(32467),n=r(83101),l=r(64269);let i=(0,n.F)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,asChild:n=!1,...c}=e,d=n?a.DX:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,l.cn)(i({variant:r}),t),...c})}},18405:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(95155),a=r(12115),n=r(86948),l=r(3998),i=r(11647),c=r(89559),d=r(26983),o=r(42529),u=r(10512),x=r(26617);let p=(0,r(71847).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var m=r(36118),h=r(18720);let g={PAYMENT_PENDING:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",PAYMENT_CONFIRMED:"bg-blue-500/20 text-blue-400 border-blue-500/30",ASSIGNED:"bg-purple-500/20 text-purple-400 border-purple-500/30",DELIVERING:"bg-orange-500/20 text-orange-400 border-orange-500/30",DELIVERED:"bg-green-500/20 text-green-400 border-green-500/30",COMPLETED:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",CANCELLED:"bg-red-500/20 text-red-400 border-red-500/30",EXPIRED:"bg-zinc-500/20 text-zinc-400 border-zinc-500/30"},f={PAYMENT_PENDING:"Aguardando Pagamento",PAYMENT_CONFIRMED:"Pago - Aguardando Entrega",ASSIGNED:"Atribu\xeddo",DELIVERING:"Entregando",DELIVERED:"Entregue",COMPLETED:"Conclu\xeddo",CANCELLED:"Cancelado",EXPIRED:"Expirado"};function v(){let[e,t]=(0,a.useState)([]),[r,v]=(0,a.useState)(!0),[N,b]=(0,a.useState)(null),[j,y]=(0,a.useState)("pending"),E=async()=>{v(!0);try{let e=(await m.FH.get("/api/orders")).data;t(Array.isArray(e)?e:e.orders||[])}catch(e){console.error("Erro ao carregar pedidos:",e),h.oR.error("Erro ao carregar pedidos")}finally{v(!1)}};(0,a.useEffect)(()=>{E()},[]);let A=async e=>{b(e);try{let t=(await m.FH.post("/api/orders/".concat(e,"/deliver"))).data;t.success?(h.oR.success("Entrega realizada com sucesso!"),E()):h.oR.error(t.message||"Falha na entrega")}catch(e){h.oR.error("Erro ao entregar pedido")}finally{b(null)}},w=e.filter(e=>"pending"===j?"PAYMENT_CONFIRMED"===e.status||"ASSIGNED"===e.status:"delivered"===j?"DELIVERED"===e.status||"COMPLETED"===e.status:"all"===j||e.status===j),z=e.filter(e=>"PAYMENT_CONFIRMED"===e.status||"ASSIGNED"===e.status).length;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Pedidos"}),(0,s.jsx)("p",{className:"text-zinc-400 mt-1",children:"Gerencie e entregue pedidos"})]}),(0,s.jsxs)(l.$,{onClick:E,variant:"outline",className:"gap-2",children:[(0,s.jsx)(c.A,{className:"w-4 h-4 ".concat(r?"animate-spin":"")}),"Atualizar"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(n.Zp,{className:"bg-zinc-900 border-zinc-800",children:(0,s.jsx)(n.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-zinc-100",children:z}),(0,s.jsx)("p",{className:"text-sm text-zinc-400",children:"Pendentes"})]})]})})}),(0,s.jsx)(n.Zp,{className:"bg-zinc-900 border-zinc-800",children:(0,s.jsx)(n.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,s.jsx)(o.A,{className:"w-6 h-6 text-green-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-zinc-100",children:e.filter(e=>"DELIVERED"===e.status||"COMPLETED"===e.status).length}),(0,s.jsx)("p",{className:"text-sm text-zinc-400",children:"Entregues"})]})]})})}),(0,s.jsx)(n.Zp,{className:"bg-zinc-900 border-zinc-800",children:(0,s.jsx)(n.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,s.jsx)(u.A,{className:"w-6 h-6 text-yellow-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-zinc-100",children:e.length}),(0,s.jsx)("p",{className:"text-sm text-zinc-400",children:"Total"})]})]})})}),(0,s.jsx)(n.Zp,{className:"bg-zinc-900 border-zinc-800",children:(0,s.jsx)(n.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 bg-emerald-500/20 rounded-lg",children:(0,s.jsx)(x.A,{className:"w-6 h-6 text-emerald-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-2xl font-bold text-zinc-100",children:["R$ ",e.filter(e=>"PAYMENT_CONFIRMED"===e.status||"DELIVERED"===e.status||"COMPLETED"===e.status).reduce((e,t)=>e+t.finalPrice,0).toFixed(2)]}),(0,s.jsx)("p",{className:"text-sm text-zinc-400",children:"Faturado"})]})]})})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(l.$,{variant:"pending"===j?"default":"outline",onClick:()=>y("pending"),className:"gap-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),"Pendentes (",z,")"]}),(0,s.jsxs)(l.$,{variant:"delivered"===j?"default":"outline",onClick:()=>y("delivered"),className:"gap-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),"Entregues"]}),(0,s.jsx)(l.$,{variant:"all"===j?"default":"outline",onClick:()=>y("all"),children:"Todos"})]}),(0,s.jsxs)(n.Zp,{className:"bg-zinc-900 border-zinc-800",children:[(0,s.jsx)(n.aR,{children:(0,s.jsxs)(n.ZB,{className:"text-zinc-100 flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-5 h-5"}),"pending"===j?"Pedidos Pendentes":"delivered"===j?"Pedidos Entregues":"Todos os Pedidos"]})}),(0,s.jsx)(n.Wu,{children:r?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(c.A,{className:"w-8 h-8 animate-spin text-zinc-500"})}):0===w.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(u.A,{className:"w-16 h-16 mx-auto mb-4 text-zinc-600"}),(0,s.jsx)("p",{className:"text-zinc-400",children:"Nenhum pedido encontrado"})]}):(0,s.jsx)("div",{className:"space-y-4",children:w.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-800/50 rounded-lg border border-zinc-700/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-2 bg-zinc-700/50 rounded-lg",children:(0,s.jsx)(x.A,{className:"w-5 h-5 text-zinc-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-medium text-zinc-100",children:["Pedido #",e.orderId]}),(0,s.jsx)(i.E,{className:g[e.status]||"bg-zinc-500/20",children:f[e.status]||e.status})]}),(0,s.jsxs)("div",{className:"text-sm text-zinc-400 mt-1",children:[(0,s.jsx)("span",{className:"font-medium text-zinc-300",children:e.buyerRobloxUsername})," • ",(0,s.jsxs)("span",{children:[e.robuxAmount," Robux"]})," • ",(0,s.jsxs)("span",{children:["R$ ",e.finalPrice.toFixed(2)]})]}),(0,s.jsx)("div",{className:"text-xs text-zinc-500 mt-1",children:e.paidAt?"Pago em ".concat(new Date(e.paidAt).toLocaleString("pt-BR")):"Criado em ".concat(new Date(e.createdAt).toLocaleString("pt-BR"))})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.gamepassId>0&&(0,s.jsx)("a",{href:"https://www.roblox.com/game-pass/".concat(e.gamepassId),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:underline",children:"Ver Gamepass"}),("PAYMENT_CONFIRMED"===e.status||"ASSIGNED"===e.status)&&(0,s.jsxs)(l.$,{size:"sm",onClick:()=>A(e.orderId),disabled:N===e.orderId,className:"gap-2 bg-green-600 hover:bg-green-700",children:[N===e.orderId?(0,s.jsx)(c.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(p,{className:"w-4 h-4"}),"Entregar"]})]})]},e.orderId))})})]})]})}},26617:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},26983:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},32467:(e,t,r)=>{"use strict";r.d(t,{DX:()=>u,TL:()=>o});var s,a=r(12115),n=r(94446),l=r(95155),i=Symbol.for("react.lazy"),c=(s||(s=r.t(a,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function o(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(d(r)&&"function"==typeof c&&(r=c(r._payload)),a.isValidElement(r)){var l;let e,i,c=(l=r,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,t){let r={...t};for(let s in t){let a=e[s],n=t[s];/^on[A-Z]/.test(s)?a&&n?r[s]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...n}:"className"===s&&(r[s]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==a.Fragment&&(d.ref=t?(0,n.t)(t,c):c),a.cloneElement(r,d)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:s,...n}=e;d(s)&&"function"==typeof c&&(s=c(s._payload));let i=a.Children.toArray(s),o=i.find(p);if(o){let e=o.props.children,s=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,l.jsx)(t,{...n,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var u=o("Slot"),x=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===x}},42529:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},68345:(e,t,r)=>{Promise.resolve().then(r.bind(r,18405))},83101:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var s=r(2821);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=s.$,l=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,c=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],s=null==i?void 0:i[e];if(null===t)return null;let n=a(t)||a(s);return l[e][n]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return n(e,c,null==t||null==(s=t.compoundVariants)?void 0:s.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...d}[t]):({...i,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l});var s=r(95155);r(12115);var a=r(64269);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...r})}},89559:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},94446:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>n});var s=r(12115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let r=!1,s=e.map(e=>{let s=a(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return s.useCallback(n(...e),e)}}},e=>{e.O(0,[779,720,979,441,255,358],()=>e(e.s=68345)),_N_E=e.O()}]);