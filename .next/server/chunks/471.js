exports.id=471,exports.ids=[471],exports.modules={821:()=>{},4503:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>E});var d=c(21124),e=c(38301),f=c(42378),g=c(3991),h=c.n(g),i=c(44943),j=c(77850),k=c(13721),l=c(46816),m=c(58368),n=c(29737),o=c(65893),p=c(32717),q=c(52252),r=c(94684),s=c(19710),t=c(45478),u=c(39353);let v=[{href:"/dashboard",label:"Dashboard",icon:j.A,requireFeature:null},{href:"/dashboard/games",label:"Jogos",icon:k.A,requireFeature:"gamesEnabled"},{href:"/dashboard/partners",label:"Parceiros",icon:l.A,requireFeature:"gamesEnabled"},{href:"/dashboard/sellers",label:"Vendedores",icon:m.A,requireFeature:"marketplaceEnabled"},{href:"/dashboard/orders",label:"Pedidos",icon:m.A,requireFeature:"marketplaceEnabled"},{href:"/dashboard/coupons",label:"Cupons",icon:n.A,requireFeature:null},{href:"/dashboard/users",label:"Usu\xe1rios",icon:o.A,requireFeature:null}],w=[{href:"/dashboard/config",label:"Robux",icon:p.A,requireFeature:null},{href:"/dashboard/config/games",label:"Jogos",icon:k.A,requireFeature:null},{href:"/dashboard/customers",label:"Customers Asaas",icon:q.A,requireFeature:null}];function x(){let a=(0,f.usePathname)(),b=(0,f.useRouter)(),c=async()=>{try{await t.F.logout()}catch{}b.push("/login")};return(0,d.jsxs)("aside",{className:"w-64 bg-zinc-900 border-r border-zinc-800 flex flex-col h-screen sticky top-0",children:[(0,d.jsx)("div",{className:"p-6 border-b border-zinc-800",children:(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-lg flex items-center justify-center",children:(0,d.jsx)(k.A,{className:"w-5 h-5 text-emerald-500"})}),(0,d.jsx)("span",{className:"text-xl font-bold text-zinc-100",children:"Nova Era"})]})}),(0,d.jsxs)("nav",{className:"flex-1 p-4 space-y-1",children:[v.filter(a=>!a.requireFeature||u.gH[a.requireFeature]).map(b=>{let c=a===b.href||"/dashboard"!==b.href&&a.startsWith(b.href);return(0,d.jsxs)(h(),{href:b.href,className:(0,i.cn)("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",c?"bg-emerald-500/10 text-emerald-500":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800"),children:[(0,d.jsx)(b.icon,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-medium",children:b.label})]},b.href)}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 text-zinc-500 text-sm font-semibold",children:[(0,d.jsx)(r.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Configura\xe7\xf5es"})]}),(0,d.jsx)("div",{className:"ml-4 space-y-1",children:w.filter(a=>!a.requireFeature||u.gH[a.requireFeature]).map(b=>{let c=a===b.href;return(0,d.jsxs)(h(),{href:b.href,className:(0,i.cn)("flex items-center gap-3 px-4 py-2 rounded-lg transition-colors text-sm",c?"bg-emerald-500/10 text-emerald-500":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800"),children:[(0,d.jsx)(b.icon,{className:"w-4 h-4"}),(0,d.jsx)("span",{className:"font-medium",children:b.label})]},b.href)})})]})]}),(0,d.jsx)("div",{className:"p-4 border-t border-zinc-800",children:(0,d.jsxs)("button",{onClick:c,className:"flex items-center gap-3 px-4 py-3 rounded-lg w-full text-zinc-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",children:[(0,d.jsx)(s.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-medium",children:"Sair"})]})})]})}var y=c(81296),z=c(16945),A=c(58620),B=c(47089);function C(){let[a,b]=(0,e.useState)(!0),[c,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1),i=async()=>{if(!g){h(!0);try{await t.F.healthCheck(),b(!0),f(!1)}catch{b(!1)}finally{h(!1)}}};return a||c?null:(0,d.jsx)("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-in slide-in-from-bottom-4",children:(0,d.jsx)("div",{className:"bg-red-950 border border-red-800 rounded-xl p-4 shadow-2xl",children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-red-900/50 rounded-lg",children:(0,d.jsx)(y.A,{className:"w-5 h-5 text-red-400"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("h4",{className:"font-semibold text-red-200 flex items-center gap-2",children:[(0,d.jsx)(z.A,{className:"w-4 h-4"}),"API Fora do Ar"]}),(0,d.jsx)("p",{className:"text-red-300/80 text-sm mt-1",children:"O servidor est\xe1 temporariamente indispon\xedvel. Algumas funcionalidades podem n\xe3o funcionar corretamente."}),(0,d.jsxs)("button",{onClick:i,disabled:g,className:"mt-3 text-sm text-red-300 hover:text-red-200 underline flex items-center gap-1",children:[(0,d.jsx)(A.A,{className:"w-3 h-3"}),g?"Verificando...":"Tentar reconectar"]})]}),(0,d.jsx)("button",{onClick:()=>f(!0),className:"text-red-400 hover:text-red-300 p-1",children:(0,d.jsx)(B.A,{className:"w-4 h-4"})})]})})})}var D=c(21639);function E({children:a}){(0,f.useRouter)();let[b,c]=(0,e.useState)(!0),[g,h]=(0,e.useState)(null);return b?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950",children:(0,d.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full"})}):(0,d.jsx)(D.R.Provider,{value:g,children:(0,d.jsxs)("div",{className:"flex min-h-screen bg-zinc-950",children:[(0,d.jsx)(x,{}),(0,d.jsx)("main",{className:"flex-1 p-8 overflow-auto",children:a}),(0,d.jsx)(C,{})]})})}},21639:(a,b,c)=>{"use strict";c.d(b,{J:()=>f,R:()=>e});var d=c(38301);let e=(0,d.createContext)(null),f=()=>(0,d.useContext)(e)},39353:(a,b,c)=>{"use strict";c.d(b,{G7:()=>e,gH:()=>d});let d={gamesEnabled:"true"===process.env.NEXT_PUBLIC_FEATURE_GAMES_ENABLED,marketplaceEnabled:"true"===process.env.NEXT_PUBLIC_FEATURE_MARKETPLACE_ENABLED};function e(a){return d[a]}},44943:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},45478:(a,b,c)=>{"use strict";c.d(b,{F:()=>f});let d=process.env.NEXT_PUBLIC_API_URL||"https://neweraapi.squareweb.app";class e{async sleep(a){return new Promise(b=>setTimeout(b,a))}async request(a,b={}){let c={"Content-Type":"application/json",...b.headers},e=null;for(let f=0;f<this.maxRetries;f++)try{let g=new AbortController,h=setTimeout(()=>g.abort(),3e4),i=await fetch(`${d}${a}`,{...b,headers:c,credentials:"include",signal:g.signal});if(clearTimeout(h),401===i.status)throw Error("N\xe3o autorizado");if(!i.ok){let a=await i.text();if(i.status>=500&&f<this.maxRetries-1){e=Error(a||`Erro ${i.status}`),await this.sleep(this.retryDelay*(f+1));continue}throw Error(a||`Erro ${i.status}`)}if(204===i.status)return{};return i.json()}catch(a){if(("AbortError"===a.name||a.message?.includes("fetch"))&&f<this.maxRetries-1){console.warn(`API request failed (attempt ${f+1}/${this.maxRetries}):`,a.message),e=a,await this.sleep(this.retryDelay*(f+1));continue}throw a}throw e||Error("Falha ao conectar com a API ap\xf3s m\xfaltiplas tentativas")}async login(a,b){return this.request("/api/admin/login",{method:"POST",body:JSON.stringify({email:a,password:b})})}async logout(){await this.request("/api/admin/logout",{method:"POST"})}async healthCheck(){try{return(await fetch(`${d}/health`,{method:"GET",cache:"no-store"})).ok}catch{return!1}}async getCurrentUser(){return this.request("/api/admin/me")}async isAuthenticated(){try{return await this.getCurrentUser(),!0}catch{return!1}}async getGames(){return this.request("/api/games")}async getGame(a){return this.request(`/api/games/${a}`)}async createGame(a){return this.request("/api/games",{method:"POST",body:JSON.stringify(a)})}async updateGame(a,b){return this.request(`/api/games/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteGame(a){return this.request(`/api/games/${a}`,{method:"DELETE"})}async getProducts(a){return this.request(`/api/products/game/${a}`)}async createProduct(a){return this.request("/api/products",{method:"POST",body:JSON.stringify(a)})}async deleteProduct(a){return this.request(`/api/products/${a}`,{method:"DELETE"})}async refreshProductImage(a){return this.request(`/api/roblox/refresh-product-image/${a}`,{method:"POST"})}async updateProduct(a,b){return this.request(`/api/products/${a}`,{method:"PUT",body:JSON.stringify(b)})}async getSalesStats(a=7){return this.request(`/api/payments/stats/period?days=${a}`)}async getSales(a=1,b=20,c){let d=new URLSearchParams({page:String(a),limit:String(b)});return c&&d.append("days",String(c)),this.request(`/api/payments/sales?${d}`)}async getConfig(){return this.request("/api/config")}async updateConfig(a){return this.request("/api/config",{method:"PUT",body:JSON.stringify(a)})}async notifyBotUpdate(){return this.request("/api/bot/notify-update",{method:"POST"})}async processPlaceholders(a,b){return(await this.request("/api/config/process-placeholders",{method:"POST",body:JSON.stringify({text:a,gamesList:b})})).processedText}async getUsers(){return this.request("/api/admin/users")}async createUser(a){return this.request("/api/admin/register",{method:"POST",body:JSON.stringify(a)})}async deleteUser(a){return this.request(`/api/admin/users/${a}`,{method:"DELETE"})}async updateUser(a,b){return this.request(`/api/admin/users/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async uploadImage(a){let b=new FormData;b.append("file",a);let c=await fetch(`${d}/api/upload/image`,{method:"POST",credentials:"include",body:b});if(!c.ok)throw Error((await c.json()).error||"Erro ao fazer upload da imagem");return c.json()}async changePassword(a,b){return this.request(`/api/admin/users/${a}/change-password`,{method:"POST",body:JSON.stringify(b)})}async getAllowedRoles(){return this.request("/api/admin/allowed-roles")}async getStats(){return this.request("/api/stats")}async syncRoblox(a){return this.request("/api/roblox/sync",{method:"POST",body:JSON.stringify({placeIdOrUrl:a})})}async importGamepass(a,b){return this.request("/api/roblox/import-gamepass",{method:"POST",body:JSON.stringify({gameId:a,gamepassIdOrUrl:b})})}async getPartners(){return this.request("/api/partners")}async getPartner(a){return this.request(`/api/partners/${a}`)}async updatePartner(a,b){return this.request(`/api/partners/${a}`,{method:"PATCH",body:JSON.stringify(b)})}async createPartner(a){return this.request("/api/partners",{method:"POST",body:JSON.stringify(a)})}async deletePartner(a){return this.request(`/api/partners/${a}`,{method:"DELETE"})}async getAsaasSubaccounts(){return this.request("/api/asaas/subaccounts")}async createAsaasSubaccount(a){return this.request("/api/asaas/subaccounts",{method:"POST",body:JSON.stringify(a)})}async getAsaasBalance(){return this.request("/api/asaas/balance")}async getAsaasAccount(){try{return await this.request("/api/asaas/account")}catch{return null}}async getDiscordServerData(){let a=await this.request("/api/discord/server");return a.synced&&a.data||null}async getCoupons(){return this.request("/api/coupons")}async getCoupon(a){return this.request(`/api/coupons/${a}`)}async createCoupon(a){return this.request("/api/coupons",{method:"POST",body:JSON.stringify(a)})}async updateCoupon(a,b){return this.request(`/api/coupons/${a}`,{method:"PUT",body:JSON.stringify(b)})}async deleteCoupon(a){return this.request(`/api/coupons/${a}`,{method:"DELETE"})}async validateCoupon(a){return this.request("/api/coupons/validate",{method:"POST",body:JSON.stringify({code:a})})}async getAsaasCustomers(){return this.request("/api/asaas/customers")}async createAsaasCustomer(a){return this.request("/api/asaas/customers",{method:"POST",body:JSON.stringify(a)})}async getDeliveries(a){let b=a?`/api/deliveries?status=${a}`:"/api/deliveries";return this.request(b)}async getDelivery(a){return this.request(`/api/deliveries/${a}`)}async getDeliveryStats(){return this.request("/api/deliveries/stats")}async updateDeliveryStatus(a,b){return this.request(`/api/deliveries/${a}/status`,{method:"PUT",body:JSON.stringify(b)})}async uploadDeliveryProof(a,b){return this.request(`/api/deliveries/${a}/proof`,{method:"PUT",body:JSON.stringify({proofUrl:b})})}constructor(){this.maxRetries=3,this.retryDelay=1e3}}let f=new e},45809:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},46481:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>g});var d=c(75338),e=c(18039),f=c.n(e);c(61135);let g={title:"Nova Era Admin",description:"Painel de administra\xe7\xe3o Nova Era"};function h({children:a}){return(0,d.jsx)("html",{lang:"pt-BR",className:"dark",children:(0,d.jsx)("body",{className:`${f().className} antialiased bg-zinc-950 text-zinc-100`,children:a})})}},55757:(a,b,c)=>{Promise.resolve().then(c.bind(c,4503))},58965:()=>{},61135:()=>{},68895:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\gabri\\\\Desktop\\\\Projetos CS Studios\\\\NewEraAdminPanel\\\\src\\\\app\\\\dashboard\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\gabri\\Desktop\\Projetos CS Studios\\NewEraAdminPanel\\src\\app\\dashboard\\layout.tsx","default")},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},74317:(a,b,c)=>{Promise.resolve().then(c.bind(c,68895))}};